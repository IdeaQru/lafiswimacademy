<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Gateway - Lafi Swimming Academy</title>
    <link rel="stylesheet" href="/waconfig/style.css">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <span class="icon">üèä</span>
                <div class="brand-text">
                    <h1>Lafi Swimming Academy</h1>
                    <p>WhatsApp Gateway Configuration</p>
                </div>
            </div>
        </div>
    </header>

    <div class="container main-container">
        <!-- Connection Status Card -->
        <div class="card status-card">
            <div class="card-header">
                <h2>üì± Connection Status</h2>
            </div>
            <div class="card-body">
                <div class="status-indicator">
                    <div class="status-dot" id="statusDot"></div>
                    <span class="status-text" id="statusText">Loading...</span>
                </div>

                <div class="status-grid">
                    <div class="status-item">
                        <span class="label">Status:</span>
                        <span class="value" id="connectionStatus">-</span>
                    </div>
                    <div class="status-item">
                        <span class="label">Phone Number:</span>
                        <span class="value" id="phoneNumber">-</span>
                    </div>
                    <div class="status-item">
                        <span class="label">Last Connected:</span>
                        <span class="value" id="lastConnected">-</span>
                    </div>
                    <div class="status-item">
                        <span class="label">Uptime:</span>
                        <span class="value" id="uptime">-</span>
                    </div>
                </div>

                <div class="actions">
                    <button class="btn btn-primary" id="connectBtn" onclick="connectWhatsApp()">
                        ‚ö° Connect WhatsApp
                    </button>
                    <button class="btn btn-danger" id="disconnectBtn" onclick="disconnectWhatsApp()" disabled>
                        ‚õî Disconnect
                    </button>
                    <button class="btn btn-secondary" onclick="clearSession()">
                        üóëÔ∏è Clear Session
                    </button>
                </div>
            </div>
        </div>

        <!-- QR Code Section -->
        <div class="card qr-card" id="qrSection" style="display: none;">
            <div class="card-header">
                <h2>üì≤ Scan QR Code dengan WhatsApp</h2>
            </div>
            <div class="card-body text-center">
                <div class="qr-container">
                    <img id="qrImage" src="" alt="QR Code">
                </div>
                <div class="qr-instructions">
                    <p><strong>Cara Scan QR Code:</strong></p>
                    <ol>
                        <li>Buka WhatsApp di ponsel Anda</li>
                        <li>Tap Menu (‚ãÆ) atau Settings (‚öôÔ∏è)</li>
                        <li>Pilih "Linked Devices"</li>
                        <li>Tap "Link a Device"</li>
                        <li>Scan QR code di atas</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Info Card -->
        <div class="card info-card">
            <div class="card-header">
                <h2>‚ÑπÔ∏è Information</h2>
            </div>
            <div class="card-body">
                <ul class="info-list">
                    <li>Gateway ini digunakan untuk mengirim notifikasi WhatsApp otomatis</li>
                    <li>Pastikan menggunakan nomor WhatsApp bisnis resmi Lafi Swimming Academy</li>
                    <li>Jangan logout dari WhatsApp Web setelah tersambung</li>
                    <li>Sistem akan otomatis reconnect jika koneksi terputus</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script src="/waconfig/script.js"></script>
</body>

</html>