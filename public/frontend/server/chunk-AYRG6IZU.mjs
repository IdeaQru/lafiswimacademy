import './polyfills.server.mjs';
import{a as st}from"./chunk-OMB67UTP.mjs";import{a as Y,b as Q,c as J,d as X,e as Z,f as $,g as tt,h as et,i as nt,j as it,k as at,l as ot,m as rt,n as dt,p as lt}from"./chunk-MJLRGOWU.mjs";import{a as K}from"./chunk-2MWTOOCD.mjs";import{Ab as W,Ac as j,B as L,Bc as G,Cb as k,Cc as R,Da as o,Db as O,Dc as U,Eb as i,Ec as H,Fb as _,Gb as h,Ib as A,Jb as b,K as y,Kb as C,Lb as M,Mb as T,Na as F,Nb as P,Nc as q,Rb as S,Sa as B,Sb as w,Wa as f,Y as g,Z as u,bc as z,f as D,jb as c,kb as e,lb as n,mb as E,sb as x,ub as p,wb as m,y as N,ya as v}from"./chunk-LYSTPZ4M.mjs";import{a as V}from"./chunk-N7QBYMCK.mjs";function mt(d,r){if(d&1){let t=x();e(0,"div",51)(1,"div",52)(2,"img",53),p("error",function(a){g(t);let s=m(3);return u(s.onImageError(a))}),n(),e(3,"div",54)(4,"strong"),i(5),n(),e(6,"small"),i(7),n(),e(8,"div",55)(9,"strong"),i(10),n(),e(11,"span",56),i(12),n()()()(),e(13,"div",57)(14,"button",58),p("click",function(){let a=g(t).$implicit,s=m(3);return u(s.openPaymentModal(a))}),i(15," \u{1F4B0} Bayar "),n(),e(16,"button",59),p("click",function(){let a=g(t).$implicit,s=m(3);return u(s.viewPaymentHistory(a))}),i(17," \u{1F4CB} Riwayat "),n()()()}if(d&2){let t=r.$implicit,l=m(3);o(2),c("src",l.getPhotoUrl(t.photo),v)("alt",t.fullName),o(3),_(t.fullName),o(2),_(t.studentId),o(3),h("Tunggakan: ",t.monthsUnpaid||0," bulan"),o(2),h("Rp ",(t.totalUnpaid||0).toLocaleString("id-ID"))}}function gt(d,r){if(d&1&&(e(0,"div",60)(1,"small"),i(2),n()()),d&2){let t=m(3);o(2),h("Dan ",t.overdueStudents.length-3," siswa lainnya dengan pembayaran terlambat")}}function ut(d,r){if(d&1&&(e(0,"div",43)(1,"div",44)(2,"div",45)(3,"span",46),i(4,"\u26A0\uFE0F"),n(),e(5,"strong"),i(6,"Pembayaran Terlambat"),n()(),e(7,"span",47),i(8),n()(),e(9,"div",48),f(10,mt,18,6,"div",49),n(),f(11,gt,3,1,"div",50),n()),d&2){let t=m(2);o(8),h("",t.overdueStudents.length," Siswa"),o(2),c("ngForOf",t.overdueStudents.slice(0,3)),o(),c("ngIf",t.overdueStudents.length>3)}}function pt(d,r){if(d&1){let t=x();e(0,"div",51)(1,"div",52)(2,"img",53),p("error",function(a){g(t);let s=m(3);return u(s.onImageError(a))}),n(),e(3,"div",54)(4,"strong"),i(5),n(),e(6,"small"),i(7),S(8,"date"),n()()(),e(9,"span",56),i(10),n()()}if(d&2){let t=r.$implicit,l=m(3);o(2),c("src",l.getPhotoUrl(t.photo),v)("alt",t.fullName),o(3),_(t.fullName),o(2),h("Jatuh tempo: ",w(8,5,t.nextPaymentDue,"dd MMMM yyyy")),o(3),h("Rp ",(t.monthlyFee||0).toLocaleString("id-ID"))}}function _t(d,r){if(d&1&&(e(0,"div",61)(1,"div",44)(2,"div",45)(3,"span",46),i(4,"\u{1F4C5}"),n(),e(5,"strong"),i(6,"Pembayaran Akan Jatuh Tempo (3 Hari)"),n()(),e(7,"span",62),i(8),n()(),e(9,"div",48),f(10,pt,11,8,"div",49),n()()),d&2){let t=m(2);o(8),h("",t.upcomingPayments.length," Siswa"),o(2),c("ngForOf",t.upcomingPayments.slice(0,3))}}function ft(d,r){if(d&1&&(e(0,"div",40),f(1,ut,12,3,"div",41)(2,_t,11,2,"div",42),n()),d&2){let t=m();o(),c("ngIf",t.overdueStudents.length>0),o(),c("ngIf",t.upcomingPayments.length>0)}}function ht(d,r){d&1&&(e(0,"div",63),E(1,"div",64),e(2,"p"),i(3,"Memuat data siswa..."),n()())}function bt(d,r){d&1&&(e(0,"div",70),E(1,"div",71),e(2,"span"),i(3,"Memuat..."),n()())}function Ct(d,r){if(d&1&&(e(0,"small",85),i(1),E(2,"br"),e(3,"span",86),i(4),S(5,"date"),n()()),d&2){let t=m(2).$implicit,l=m(2);o(),h(" Rp ",l.getCurrentMonthAmount(t).toLocaleString("id-ID")),o(3),_(w(5,2,l.getCurrentMonthPaidDate(t),"dd/MM/yyyy"))}}function Mt(d,r){if(d&1&&(e(0,"div")(1,"span"),i(2),n(),f(3,Ct,6,5,"small",84),n()),d&2){let t=m().$implicit,l=m(2);o(),O(P("badge payment-",l.getCurrentMonthStatus(t).toLowerCase())),o(),h(" ",l.getCurrentMonthStatus(t)," "),o(),c("ngIf",l.isCurrentMonthPaid(t))}}function xt(d,r){d&1&&(e(0,"span",87),i(1," - "),n())}function Pt(d,r){if(d&1){let t=x();e(0,"button",88),p("click",function(){g(t);let a=m().$implicit,s=m(2);return u(s.viewPaymentHistory(a))}),i(1," \u{1F4B3} "),n()}}function yt(d,r){if(d&1){let t=x();e(0,"button",89),p("click",function(){g(t);let a=m().$implicit,s=m(2);return u(s.openPaymentModal(a))}),i(1," \u{1F4B0} "),n()}}function vt(d,r){if(d&1){let t=x();e(0,"tr")(1,"td"),i(2),n(),e(3,"td")(4,"div",72)(5,"img",73),p("error",function(a){g(t);let s=m(2);return u(s.onImageError(a))}),n()()(),e(6,"td")(7,"div",52)(8,"strong",74),i(9),n(),e(10,"small",75),i(11),n()()(),e(12,"td"),i(13),n(),e(14,"td")(15,"span"),i(16),n()(),e(17,"td")(18,"span"),i(19),n()(),e(20,"td")(21,"div",76),f(22,Mt,4,5,"div",36)(23,xt,2,0,"span",77),n()(),e(24,"td")(25,"div",78),f(26,Pt,2,0,"button",79)(27,yt,2,0,"button",80),e(28,"button",81),p("click",function(){let a=g(t).$implicit,s=m(2);return u(s.viewDetails(a))}),i(29," \u{1F441}\uFE0F "),n(),e(30,"button",82),p("click",function(){let a=g(t).$implicit,s=m(2);return u(s.openModal(a))}),i(31," \u270F\uFE0F "),n(),e(32,"button",83),p("click",function(){let a=g(t).$implicit,s=m(2);return u(s.deleteStudent(a))}),i(33," \u{1F5D1}\uFE0F "),n()()()()}if(d&2){let t=r.$implicit,l=r.index,a=m(2);o(2),_((a.currentPage-1)*a.itemsPerPage+l+1),o(3),c("src",a.getPhotoUrl(t.photo),v)("alt",t.fullName),o(4),_(t.fullName),o(2),_(t.studentId),o(2),_(t.phone),o(2),O(P("badge level-",t.classLevel.toLowerCase())),o(),h(" ",t.classLevel," "),o(2),O(P("badge status-",t.status.toLowerCase().replace("-",""))),o(),h(" ",t.status," "),o(3),c("ngIf",t.monthlyFee&&t.monthlyFee>0),o(),c("ngIf",!t.monthlyFee||t.monthlyFee===0),o(3),c("ngIf",t.monthlyFee&&t.monthlyFee>0),o(),c("ngIf",t.monthlyFee&&t.monthlyFee>0)}}function Ot(d,r){if(d&1&&(e(0,"p"),i(1),n()),d&2){let t=m(3);o(),h('Tidak ada hasil untuk pencarian "',t.searchQuery,'"')}}function St(d,r){d&1&&(e(0,"p"),i(1,"Mulai tambahkan siswa baru untuk akademi renang Anda"),n())}function wt(d,r){if(d&1){let t=x();e(0,"button",5),p("click",function(){g(t);let a=m(3);return u(a.openModal())}),i(1," Tambah Siswa Pertama "),n()}}function Et(d,r){if(d&1&&(e(0,"div",90)(1,"div",91),i(2,"\u{1F4ED}"),n(),e(3,"h3"),i(4),n(),f(5,Ot,2,1,"p",36)(6,St,2,0,"p",36)(7,wt,2,0,"button",92),n()),d&2){let t=m(2);o(4),_(t.searchQuery?"Tidak ada hasil":"Tidak ada data siswa"),o(),c("ngIf",t.searchQuery),o(),c("ngIf",!t.searchQuery),o(),c("ngIf",!t.searchQuery)}}function kt(d,r){if(d&1&&(e(0,"div",65),f(1,bt,4,0,"div",66),e(2,"table",67)(3,"thead")(4,"tr")(5,"th"),i(6,"No"),n(),e(7,"th"),i(8,"Foto"),n(),e(9,"th"),i(10,"Nama Siswa"),n(),e(11,"th"),i(12,"Telepon"),n(),e(13,"th"),i(14,"Level"),n(),e(15,"th"),i(16,"Status"),n(),e(17,"th"),i(18),n(),e(19,"th"),i(20,"Aksi"),n()()(),e(21,"tbody"),f(22,vt,34,18,"tr",68),n()(),f(23,Et,8,4,"div",69),n()),d&2){let t=m();o(),c("ngIf",t.isLoading&&!t.showModal),o(17),_(t.getCurrentMonthLabel()),o(4),c("ngForOf",t.getPaginatedStudents())("ngForTrackBy",t.trackByStudentId),o(),c("ngIf",t.filteredStudents.length===0&&!t.isLoading)}}function Ft(d,r){if(d&1){let t=x();e(0,"div",93)(1,"button",94),p("click",function(){g(t);let a=m();return u(a.changePage(a.currentPage-1))}),i(2," \u2039 Prev "),n(),e(3,"span",95),i(4),n(),e(5,"button",94),p("click",function(){g(t);let a=m();return u(a.changePage(a.currentPage+1))}),i(6," Next \u203A "),n()()}if(d&2){let t=m();o(),c("disabled",t.currentPage===1),o(3),A(" Halaman ",t.currentPage," dari ",t.totalPages," (",t.filteredStudents.length," siswa) "),o(),c("disabled",t.currentPage===t.totalPages)}}function Dt(d,r){d&1&&(e(0,"span"),i(1,"\u2705"),n())}function Tt(d,r){d&1&&(e(0,"span"),i(1,"\u274C"),n())}function It(d,r){d&1&&(e(0,"span"),i(1,"\u26A0\uFE0F"),n())}function Vt(d,r){d&1&&(e(0,"span"),i(1,"\u2139\uFE0F"),n())}function Nt(d,r){if(d&1){let t=x();e(0,"div",151)(1,"span",152),f(2,Dt,2,0,"span",36)(3,Tt,2,0,"span",36)(4,It,2,0,"span",36)(5,Vt,2,0,"span",36),n(),e(6,"span",153),i(7),n(),e(8,"button",154),p("click",function(){g(t);let a=m(2);return u(a.hideModalNotification())}),i(9,"\u2715"),n()()}if(d&2){let t=m(2);k("success",t.modalNotificationType==="success")("error",t.modalNotificationType==="error")("warning",t.modalNotificationType==="warning")("info",t.modalNotificationType==="info"),o(2),c("ngIf",t.modalNotificationType==="success"),o(),c("ngIf",t.modalNotificationType==="error"),o(),c("ngIf",t.modalNotificationType==="warning"),o(),c("ngIf",t.modalNotificationType==="info"),o(2),_(t.modalNotificationMessage)}}function Lt(d,r){if(d&1&&(e(0,"div",155),E(1,"div",156),e(2,"p"),i(3),n()()),d&2){let t=m(2);o(3),_(t.isEditMode?"Mengupdate data...":"Menyimpan data...")}}function Bt(d,r){if(d&1){let t=x();e(0,"button",157),p("click",function(){g(t);let a=m(2);return u(a.clearPhotoPreview())}),i(1," \u{1F5D1}\uFE0F Hapus Preview "),n()}if(d&2){let t=m(2);c("disabled",t.isLoading)}}function Wt(d,r){if(d&1&&(e(0,"span"),i(1),n()),d&2){let t=m(2);o(),h(" ",t.isEditMode?"\u{1F4BE} Update Data":"\u{1F4BE} Simpan Siswa"," ")}}function At(d,r){if(d&1&&(e(0,"span",158),E(1,"span",159),i(2),n()),d&2){let t=m(2);o(2),h(" ",t.isEditMode?"Mengupdate...":"Menyimpan..."," ")}}function zt(d,r){if(d&1){let t=x();e(0,"div",96),p("click",function(){g(t);let a=m();return u(a.closeModal())}),e(1,"div",97),p("click",function(a){return g(t),u(a.stopPropagation())}),e(2,"div",98)(3,"h2"),i(4),n(),e(5,"button",99),p("click",function(){g(t);let a=m();return u(a.closeModal())}),i(6,"\u2715"),n()(),f(7,Nt,10,13,"div",100),e(8,"div",101),f(9,Lt,4,1,"div",102),e(10,"form",103)(11,"div",104)(12,"h3"),i(13,"\u{1F4F8} Foto Siswa"),n(),e(14,"div",105)(15,"div",106)(16,"img",107),p("error",function(a){g(t);let s=m();return u(s.onImageError(a))}),n()(),e(17,"div",108)(18,"input",109,0),p("change",function(a){g(t);let s=m();return u(s.onFileSelected(a))}),n(),e(20,"button",110),p("click",function(){g(t);let a=W(19);return u(a.click())}),i(21," \u{1F4F7} Pilih Foto "),n(),f(22,Bt,2,1,"button",111),e(23,"p",112),i(24," Format: JPG, PNG, GIF, WEBP (Max 5MB) "),n()()()(),e(25,"div",104)(26,"h3"),i(27,"\u{1F4CB} Informasi Pribadi"),n(),e(28,"div",113)(29,"div",114)(30,"label"),i(31,"ID Siswa"),n(),e(32,"input",115),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.studentId,a)||(s.studentForm.studentId=a),u(a)}),n()(),e(33,"div",114)(34,"label"),i(35,"Nama Lengkap "),e(36,"span",116),i(37,"*"),n()(),e(38,"input",117),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.fullName,a)||(s.studentForm.fullName=a),u(a)}),n()()(),e(39,"div",113)(40,"div",114)(41,"label"),i(42,"Tanggal Lahir "),e(43,"span",116),i(44,"*"),n()(),e(45,"input",118),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.dateOfBirth,a)||(s.studentForm.dateOfBirth=a),u(a)}),n()(),e(46,"div",114)(47,"label"),i(48,"Jenis Kelamin "),e(49,"span",116),i(50,"*"),n()(),e(51,"select",119),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.gender,a)||(s.studentForm.gender=a),u(a)}),e(52,"option",120),i(53,"Laki-laki"),n(),e(54,"option",121),i(55,"Perempuan"),n()()()()(),e(56,"div",104)(57,"h3"),i(58,"\u{1F468}\u200D\u{1F469}\u200D\u{1F467} Informasi Orang Tua/Wali"),n(),e(59,"div",113)(60,"div",114)(61,"label"),i(62,"Nama Orang Tua/Wali "),e(63,"span",116),i(64,"*"),n()(),e(65,"input",122),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.parentName,a)||(s.studentForm.parentName=a),u(a)}),n()(),e(66,"div",114)(67,"label"),i(68,"Nomor Telepon "),e(69,"span",116),i(70,"*"),n()(),e(71,"input",123),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.phone,a)||(s.studentForm.phone=a),u(a)}),n()()(),e(72,"div",113)(73,"div",124)(74,"label"),i(75,"Email"),n(),e(76,"input",125),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.email,a)||(s.studentForm.email=a),u(a)}),n()()(),e(77,"div",113)(78,"div",124)(79,"label"),i(80,"Alamat "),e(81,"span",116),i(82,"*"),n()(),e(83,"textarea",126),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.address,a)||(s.studentForm.address=a),u(a)}),n()()()(),e(84,"div",104)(85,"h3"),i(86,"\u{1F6A8} Kontak Darurat"),n(),e(87,"div",113)(88,"div",114)(89,"label"),i(90,"Nama Kontak Darurat "),e(91,"span",116),i(92,"*"),n()(),e(93,"input",127),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.emergencyContact,a)||(s.studentForm.emergencyContact=a),u(a)}),n()(),e(94,"div",114)(95,"label"),i(96,"Nomor Telepon Darurat "),e(97,"span",116),i(98,"*"),n()(),e(99,"input",128),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.emergencyPhone,a)||(s.studentForm.emergencyPhone=a),u(a)}),n()()()(),e(100,"div",104)(101,"h3"),i(102,"\u{1F3CA}\u200D\u2642\uFE0F Informasi Renang"),n(),e(103,"div",113)(104,"div",114)(105,"label"),i(106,"Level Kelas "),e(107,"span",116),i(108,"*"),n()(),e(109,"select",129),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.classLevel,a)||(s.studentForm.classLevel=a),u(a)}),e(110,"option",130),i(111,"Pemula"),n(),e(112,"option",131),i(113,"Menengah"),n(),e(114,"option",132),i(115,"Lanjut"),n(),e(116,"option",133),i(117,"Private"),n()()(),e(118,"div",114)(119,"label"),i(120,"Kemampuan Renang "),e(121,"span",116),i(122,"*"),n()(),e(123,"select",134),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.swimmingAbility,a)||(s.studentForm.swimmingAbility=a),u(a)}),e(124,"option",135),i(125,"Belum Bisa"),n(),e(126,"option",136),i(127,"Dasar"),n(),e(128,"option",131),i(129,"Menengah"),n(),e(130,"option",137),i(131,"Mahir"),n()()()(),e(132,"div",113)(133,"div",114)(134,"label"),i(135,"Kondisi Kesehatan"),n(),e(136,"textarea",138),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.healthCondition,a)||(s.studentForm.healthCondition=a),u(a)}),n()(),e(137,"div",114)(138,"label"),i(139,"Alergi"),n(),e(140,"textarea",139),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.allergies,a)||(s.studentForm.allergies=a),u(a)}),n()()(),e(141,"div",113)(142,"div",114)(143,"label"),i(144,"Tanggal Registrasi "),e(145,"span",116),i(146,"*"),n()(),e(147,"input",140),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.registrationDate,a)||(s.studentForm.registrationDate=a),u(a)}),n()(),e(148,"div",114)(149,"label"),i(150,"Status "),e(151,"span",116),i(152,"*"),n()(),e(153,"select",141),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.status,a)||(s.studentForm.status=a),u(a)}),e(154,"option",22),i(155,"Aktif"),n(),e(156,"option",23),i(157,"Non Aktif"),n(),e(158,"option",24),i(159,"Cuti"),n()()()()(),e(160,"div",104)(161,"h3"),i(162,"\u{1F4B0} Informasi Pembayaran Bulanan"),n(),e(163,"div",113)(164,"div",114)(165,"label"),i(166,"Biaya SPP per Bulan (Rp) "),e(167,"span",116),i(168,"*"),n()(),e(169,"input",142),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.monthlyFee,a)||(s.studentForm.monthlyFee=a),u(a)}),n()(),e(170,"div",114)(171,"label"),i(172,"Tanggal Jatuh Tempo (1-31) "),e(173,"span",116),i(174,"*"),n()(),e(175,"input",143),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.paymentDueDate,a)||(s.studentForm.paymentDueDate=a),u(a)}),n(),e(176,"small",144),i(177,"Tanggal setiap bulan untuk pembayaran SPP"),n()()(),e(178,"div",113)(179,"div",124)(180,"label",145)(181,"input",146),M("ngModelChange",function(a){g(t);let s=m();return C(s.studentForm.enableReminder,a)||(s.studentForm.enableReminder=a),u(a)}),n(),e(182,"span"),i(183,"\u{1F514} Aktifkan pengingat pembayaran otomatis"),n()()()()()()(),e(184,"div",147)(185,"button",148),p("click",function(){g(t);let a=m();return u(a.closeModal())}),i(186," Batal "),n(),e(187,"button",149),p("click",function(){g(t);let a=m();return u(a.saveStudent())}),f(188,Wt,2,1,"span",36)(189,At,3,1,"span",150),n()()()()}if(d&2){let t=m();o(4),_(t.isEditMode?"\u270F\uFE0F Edit Data Siswa":"\u2795 Tambah Siswa Baru"),o(),c("disabled",t.isLoading),o(2),c("ngIf",t.showModalNotification),o(2),c("ngIf",t.isLoading),o(7),c("src",t.photoPreview||t.getPhotoUrl(t.studentForm.photo),v),o(2),c("disabled",t.isLoading),o(2),c("disabled",t.isLoading),o(2),c("ngIf",t.photoPreview),o(10),b("ngModel",t.studentForm.studentId),o(6),b("ngModel",t.studentForm.fullName),c("disabled",t.isLoading),o(7),b("ngModel",t.studentForm.dateOfBirth),c("disabled",t.isLoading),o(6),b("ngModel",t.studentForm.gender),c("disabled",t.isLoading),o(14),b("ngModel",t.studentForm.parentName),c("disabled",t.isLoading),o(6),b("ngModel",t.studentForm.phone),c("disabled",t.isLoading),o(5),b("ngModel",t.studentForm.email),c("disabled",t.isLoading),o(7),b("ngModel",t.studentForm.address),c("disabled",t.isLoading),o(10),b("ngModel",t.studentForm.emergencyContact),c("disabled",t.isLoading),o(6),b("ngModel",t.studentForm.emergencyPhone),c("disabled",t.isLoading),o(10),b("ngModel",t.studentForm.classLevel),c("disabled",t.isLoading),o(14),b("ngModel",t.studentForm.swimmingAbility),c("disabled",t.isLoading),o(13),b("ngModel",t.studentForm.healthCondition),c("disabled",t.isLoading),o(4),b("ngModel",t.studentForm.allergies),c("disabled",t.isLoading),o(7),b("ngModel",t.studentForm.registrationDate),c("disabled",t.isLoading),o(6),b("ngModel",t.studentForm.status),c("disabled",t.isLoading),o(16),b("ngModel",t.studentForm.monthlyFee),c("disabled",t.isLoading),o(6),b("ngModel",t.studentForm.paymentDueDate),c("disabled",t.isLoading),o(6),b("ngModel",t.studentForm.enableReminder),c("disabled",t.isLoading),o(4),c("disabled",t.isLoading),o(2),c("disabled",t.isLoading),o(),c("ngIf",!t.isLoading),o(),c("ngIf",t.isLoading)}}function jt(d,r){d&1&&(e(0,"span"),i(1,"\u2705"),n())}function Gt(d,r){d&1&&(e(0,"span"),i(1,"\u274C"),n())}function Rt(d,r){d&1&&(e(0,"span"),i(1,"\u26A0\uFE0F"),n())}function Ut(d,r){d&1&&(e(0,"span"),i(1,"\u2139\uFE0F"),n())}function Ht(d,r){if(d&1){let t=x();e(0,"div",151)(1,"span",152),f(2,jt,2,0,"span",36)(3,Gt,2,0,"span",36)(4,Rt,2,0,"span",36)(5,Ut,2,0,"span",36),n(),e(6,"span",153),i(7),n(),e(8,"button",154),p("click",function(){g(t);let a=m(2);return u(a.hideModalNotification())}),i(9,"\u2715"),n()()}if(d&2){let t=m(2);k("success",t.modalNotificationType==="success")("error",t.modalNotificationType==="error")("warning",t.modalNotificationType==="warning")("info",t.modalNotificationType==="info"),o(2),c("ngIf",t.modalNotificationType==="success"),o(),c("ngIf",t.modalNotificationType==="error"),o(),c("ngIf",t.modalNotificationType==="warning"),o(),c("ngIf",t.modalNotificationType==="info"),o(2),_(t.modalNotificationMessage)}}function qt(d,r){if(d&1){let t=x();e(0,"div",170)(1,"img",53),p("error",function(a){g(t);let s=m(2);return u(s.onImageError(a))}),n(),e(2,"div",54)(3,"strong"),i(4),n(),e(5,"p"),i(6),n(),e(7,"span",171),i(8),S(9,"number"),n()()()}if(d&2){let t=m(2);o(),c("alt",T(t.selectedStudentForPayment.fullName))("src",t.getPhotoUrl(t.selectedStudentForPayment.photo),v),o(3),_(t.selectedStudentForPayment.fullName),o(2),_(t.selectedStudentForPayment.studentId),o(2),h("SPP: Rp ",w(9,6,t.selectedStudentForPayment.monthlyFee,"1.0-0"),"/bulan")}}function Kt(d,r){d&1&&(e(0,"span"),i(1,"\u{1F4BE} Simpan Pembayaran"),n())}function Yt(d,r){d&1&&(e(0,"span",158),E(1,"span",159),i(2," Menyimpan... "),n())}function Qt(d,r){if(d&1){let t=x();e(0,"div",96),p("click",function(){g(t);let a=m();return u(a.closePaymentModal())}),e(1,"div",160),p("click",function(a){return g(t),u(a.stopPropagation())}),e(2,"div",98)(3,"h2"),i(4,"\u{1F4B3} Catat Pembayaran Bulanan"),n(),e(5,"button",99),p("click",function(){g(t);let a=m();return u(a.closePaymentModal())}),i(6,"\u2715"),n()(),f(7,Ht,10,13,"div",100),e(8,"div",101),f(9,qt,10,9,"div",161),e(10,"form",162)(11,"div",114)(12,"label"),i(13,"Bulan Pembayaran "),e(14,"span",116),i(15,"*"),n()(),e(16,"input",163),M("ngModelChange",function(a){g(t);let s=m();return C(s.paymentForm.month,a)||(s.paymentForm.month=a),u(a)}),n()(),e(17,"div",113)(18,"div",114)(19,"label"),i(20,"Jumlah (Rp) "),e(21,"span",116),i(22,"*"),n()(),e(23,"input",164),M("ngModelChange",function(a){g(t);let s=m();return C(s.paymentForm.amount,a)||(s.paymentForm.amount=a),u(a)}),n()(),e(24,"div",114)(25,"label"),i(26,"Tanggal Bayar "),e(27,"span",116),i(28,"*"),n()(),e(29,"input",165),M("ngModelChange",function(a){g(t);let s=m();return C(s.paymentForm.paymentDate,a)||(s.paymentForm.paymentDate=a),u(a)}),n()()(),e(30,"div",114)(31,"label"),i(32,"Metode Pembayaran"),n(),e(33,"select",166),M("ngModelChange",function(a){g(t);let s=m();return C(s.paymentForm.method,a)||(s.paymentForm.method=a),u(a)}),e(34,"option",167),i(35,"Cash"),n(),e(36,"option",168),i(37,"Transfer Bank"),n()()(),e(38,"div",114)(39,"label"),i(40,"Catatan"),n(),e(41,"textarea",169),M("ngModelChange",function(a){g(t);let s=m();return C(s.paymentForm.notes,a)||(s.paymentForm.notes=a),u(a)}),n()()()(),e(42,"div",147)(43,"button",148),p("click",function(){g(t);let a=m();return u(a.closePaymentModal())}),i(44," Batal "),n(),e(45,"button",149),p("click",function(){g(t);let a=m();return u(a.saveMonthlyPayment())}),f(46,Kt,2,0,"span",36)(47,Yt,3,0,"span",150),n()()()()}if(d&2){let t=m();o(5),c("disabled",t.isLoading),o(2),c("ngIf",t.showModalNotification),o(2),c("ngIf",t.selectedStudentForPayment),o(7),b("ngModel",t.paymentForm.month),c("disabled",t.isLoading),o(7),b("ngModel",t.paymentForm.amount),c("disabled",t.isLoading),o(6),b("ngModel",t.paymentForm.paymentDate),c("disabled",t.isLoading),o(4),b("ngModel",t.paymentForm.method),c("disabled",t.isLoading),o(8),b("ngModel",t.paymentForm.notes),c("disabled",t.isLoading),o(2),c("disabled",t.isLoading),o(2),c("disabled",t.isLoading),o(),c("ngIf",!t.isLoading),o(),c("ngIf",t.isLoading)}}function Jt(d,r){if(d&1){let t=x();e(0,"div",177)(1,"img",53),p("error",function(a){g(t);let s=m(2);return u(s.onImageError(a))}),n(),e(2,"div")(3,"h3"),i(4),n(),e(5,"p"),i(6),n()()()}if(d&2){let t=m(2);o(),c("alt",T(t.selectedStudentForPayment.fullName))("src",t.getPhotoUrl(t.selectedStudentForPayment.photo),v),o(3),_(t.selectedStudentForPayment.fullName),o(2),_(t.selectedStudentForPayment.studentId)}}function Xt(d,r){if(d&1&&(e(0,"tr")(1,"td"),i(2),n(),e(3,"td"),i(4),S(5,"date"),n(),e(6,"td")(7,"strong"),i(8),S(9,"number"),n()(),e(10,"td"),i(11),n(),e(12,"td")(13,"span",180),i(14),n()(),e(15,"td"),i(16),n()()),d&2){let t=r.$implicit;o(2),_(t.month),o(2),_(w(5,10,t.paymentDate,"dd/MM/yyyy")),o(4),h("Rp ",w(9,13,t.amount,"1.0-0")),o(3),_(t.method),o(2),k("badge-success",t.status==="Paid")("badge-warning",t.status==="Late"),o(),h(" ",t.status," "),o(2),_(t.notes||"-")}}function Zt(d,r){if(d&1&&(e(0,"div",178)(1,"table")(2,"thead")(3,"tr")(4,"th"),i(5,"Bulan"),n(),e(6,"th"),i(7,"Tanggal Bayar"),n(),e(8,"th"),i(9,"Jumlah"),n(),e(10,"th"),i(11,"Metode"),n(),e(12,"th"),i(13,"Status"),n(),e(14,"th"),i(15,"Catatan"),n()()(),e(16,"tbody"),f(17,Xt,17,16,"tr",179),n()()()),d&2){let t=m(2);o(17),c("ngForOf",t.paymentHistory)}}function $t(d,r){d&1&&(e(0,"div",90)(1,"div",91),i(2,"\u{1F4ED}"),n(),e(3,"p"),i(4,"Belum ada riwayat pembayaran"),n()())}function te(d,r){if(d&1){let t=x();e(0,"div",96),p("click",function(){g(t);let a=m();return u(a.closePaymentHistoryModal())}),e(1,"div",172),p("click",function(a){return g(t),u(a.stopPropagation())}),e(2,"div",98)(3,"h2"),i(4,"\u{1F4CB} Riwayat Pembayaran"),n(),e(5,"button",173),p("click",function(){g(t);let a=m();return u(a.closePaymentHistoryModal())}),i(6,"\u2715"),n()(),e(7,"div",101),f(8,Jt,7,5,"div",174)(9,Zt,18,1,"div",175)(10,$t,5,0,"div",69),n(),e(11,"div",147)(12,"button",176),p("click",function(){g(t);let a=m();return u(a.closePaymentHistoryModal())}),i(13," Tutup "),n()()()()}if(d&2){let t=m();o(8),c("ngIf",t.selectedStudentForPayment),o(),c("ngIf",t.paymentHistory.length>0),o(),c("ngIf",t.paymentHistory.length===0)}}function ee(d,r){if(d&1&&(e(0,"a",198),i(1),n()),d&2){let t=m(2);c("href",P("mailto:",t.selectedStudent.email),v),o(),h(" \u2709\uFE0F ",t.selectedStudent.email," ")}}function ne(d,r){d&1&&(e(0,"span"),i(1,"-"),n())}function ie(d,r){if(d&1&&(e(0,"div",188)(1,"h3"),i(2,"\u{1F4B0} Informasi Pembayaran"),n(),e(3,"div",189)(4,"div",190)(5,"span",191),i(6,"SPP Bulanan"),n(),e(7,"span",192)(8,"strong"),i(9),S(10,"number"),n()()(),e(11,"div",190)(12,"span",191),i(13,"Jatuh Tempo"),n(),e(14,"span",192),i(15),n()(),e(16,"div",190)(17,"span",191),i(18,"Status Bulan Ini"),n(),e(19,"span",192)(20,"span"),i(21),n()()(),e(22,"div",190)(23,"span",191),i(24,"Pengingat"),n(),e(25,"span",192),i(26),n()()()()),d&2){let t=m(2);o(9),h("Rp ",w(10,7,t.selectedStudent.monthlyFee,"1.0-0")),o(6),h("Setiap tanggal ",t.selectedStudent.paymentDueDate),o(5),O(P("badge payment-",t.getCurrentMonthStatus(t.selectedStudent).toLowerCase())),o(),h(" ",t.getCurrentMonthStatus(t.selectedStudent)," "),o(5),_(t.selectedStudent.enableReminder?"\u2705 Aktif":"\u274C Tidak Aktif")}}function ae(d,r){if(d&1&&(e(0,"div",193)(1,"span",191),i(2,"Kondisi Kesehatan"),n(),e(3,"span",200),i(4),n()()),d&2){let t=m(3);o(4),_(t.selectedStudent.healthCondition)}}function oe(d,r){if(d&1&&(e(0,"div",193)(1,"span",191),i(2,"Alergi"),n(),e(3,"span",201),i(4),n()()),d&2){let t=m(3);o(4),h("\u26A0\uFE0F ",t.selectedStudent.allergies)}}function re(d,r){if(d&1&&(e(0,"div",188)(1,"h3"),i(2,"\u{1F3E5} Kondisi Kesehatan"),n(),e(3,"div",189),f(4,ae,5,1,"div",199)(5,oe,5,1,"div",199),n()()),d&2){let t=m(2);o(4),c("ngIf",t.selectedStudent.healthCondition),o(),c("ngIf",t.selectedStudent.allergies)}}function de(d,r){if(d&1){let t=x();e(0,"button",202),p("click",function(){g(t);let a=m(2);return a.viewPaymentHistory(a.selectedStudent),u(a.closeDetails())}),i(1," \u{1F4B3} Riwayat Pembayaran "),n()}}function le(d,r){if(d&1){let t=x();e(0,"div",96),p("click",function(){g(t);let a=m();return u(a.closeDetails())}),e(1,"div",181),p("click",function(a){return g(t),u(a.stopPropagation())}),e(2,"div",98)(3,"h2"),i(4,"\u{1F441}\uFE0F Detail Siswa"),n(),e(5,"button",173),p("click",function(){g(t);let a=m();return u(a.closeDetails())}),i(6,"\u2715"),n()(),e(7,"div",101)(8,"div",182)(9,"div",183)(10,"div",184)(11,"img",53),p("error",function(a){g(t);let s=m();return u(s.onImageError(a))}),n()(),e(12,"div",185)(13,"h2"),i(14),n(),e(15,"p",75),i(16),n(),e(17,"div",186)(18,"span"),i(19),n(),e(20,"span"),i(21),n()()()(),e(22,"div",187)(23,"div",188)(24,"h3"),i(25,"\u{1F4CB} Informasi Pribadi"),n(),e(26,"div",189)(27,"div",190)(28,"span",191),i(29,"Jenis Kelamin"),n(),e(30,"span",192),i(31),n()(),e(32,"div",190)(33,"span",191),i(34,"Tanggal Lahir"),n(),e(35,"span",192),i(36),S(37,"date"),n()(),e(38,"div",190)(39,"span",191),i(40,"Umur"),n(),e(41,"span",192),i(42),n()(),e(43,"div",190)(44,"span",191),i(45,"Tanggal Registrasi"),n(),e(46,"span",192),i(47),S(48,"date"),n()()()(),e(49,"div",188)(50,"h3"),i(51,"\u{1F468}\u200D\u{1F469}\u200D\u{1F467} Kontak Orang Tua/Wali"),n(),e(52,"div",189)(53,"div",193)(54,"span",191),i(55,"Nama Orang Tua/Wali"),n(),e(56,"span",192),i(57),n()(),e(58,"div",190)(59,"span",191),i(60,"Nomor Telepon"),n(),e(61,"span",192)(62,"a",194),i(63),n()()(),e(64,"div",190)(65,"span",191),i(66,"Email"),n(),e(67,"span",192),f(68,ee,2,3,"a",195)(69,ne,2,0,"span",36),n()(),e(70,"div",193)(71,"span",191),i(72,"Alamat"),n(),e(73,"span",192),i(74),n()()()(),e(75,"div",188)(76,"h3"),i(77,"\u{1F6A8} Kontak Darurat"),n(),e(78,"div",189)(79,"div",190)(80,"span",191),i(81,"Nama Kontak Darurat"),n(),e(82,"span",192),i(83),n()(),e(84,"div",190)(85,"span",191),i(86,"Nomor Telepon"),n(),e(87,"span",192)(88,"a",194),i(89),n()()()()(),e(90,"div",188)(91,"h3"),i(92,"\u{1F3CA}\u200D\u2642\uFE0F Informasi Renang"),n(),e(93,"div",189)(94,"div",190)(95,"span",191),i(96,"Level Kelas"),n(),e(97,"span",192)(98,"span"),i(99),n()()(),e(100,"div",190)(101,"span",191),i(102,"Kemampuan Renang"),n(),e(103,"span",192)(104,"span"),i(105),n()()()()(),f(106,ie,27,10,"div",196)(107,re,6,2,"div",196),n()()(),e(108,"div",147)(109,"button",176),p("click",function(){g(t);let a=m();return u(a.closeDetails())}),i(110,"Tutup"),n(),f(111,de,2,0,"button",197),e(112,"button",5),p("click",function(){g(t);let a=m();return a.openModal(a.selectedStudent),u(a.closeDetails())}),i(113," \u270F\uFE0F Edit Data "),n()()()()}if(d&2){let t=m();o(11),c("src",t.getPhotoUrl(t.selectedStudent.photo),v)("alt",t.selectedStudent.fullName),o(3),_(t.selectedStudent.fullName),o(2),_(t.selectedStudent.studentId),o(2),O(P("badge level-",t.selectedStudent.classLevel.toLowerCase())),o(),h(" ",t.selectedStudent.classLevel," "),o(),O(P("badge status-",t.selectedStudent.status.toLowerCase().replace("-",""))),o(),h(" ",t.selectedStudent.status," "),o(10),_(t.selectedStudent.gender),o(5),_(w(37,38,t.selectedStudent.dateOfBirth,"dd MMMM yyyy")),o(6),h("",t.calculateAge(t.selectedStudent.dateOfBirth)," tahun"),o(5),_(w(48,41,t.selectedStudent.registrationDate,"dd MMMM yyyy")),o(10),_(t.selectedStudent.parentName),o(5),c("href",P("tel:",t.selectedStudent.phone),v),o(),h(" \u{1F4DE} ",t.selectedStudent.phone," "),o(5),c("ngIf",t.selectedStudent.email),o(),c("ngIf",!t.selectedStudent.email),o(5),h("\u{1F4CD} ",t.selectedStudent.address),o(9),_(t.selectedStudent.emergencyContact),o(5),c("href",P("tel:",t.selectedStudent.emergencyPhone),v),o(),h(" \u{1F4DE} ",t.selectedStudent.emergencyPhone," "),o(9),O(P("badge level-",t.selectedStudent.classLevel.toLowerCase())),o(),h(" ",t.selectedStudent.classLevel," "),o(5),O(P("badge ability-",t.selectedStudent.swimmingAbility.toLowerCase().replace(" ","-"))),o(),h(" ",t.selectedStudent.swimmingAbility," "),o(),c("ngIf",t.selectedStudent.monthlyFee&&t.selectedStudent.monthlyFee>0),o(),c("ngIf",t.selectedStudent.healthCondition||t.selectedStudent.allergies),o(4),c("ngIf",t.selectedStudent.monthlyFee&&t.selectedStudent.monthlyFee>0)}}function se(d,r){d&1&&(e(0,"span"),i(1,"\u2705"),n())}function ce(d,r){d&1&&(e(0,"span"),i(1,"\u274C"),n())}function me(d,r){d&1&&(e(0,"span"),i(1,"\u2139\uFE0F"),n())}function ge(d,r){d&1&&(e(0,"span"),i(1,"\u26A0\uFE0F"),n())}var ct=class d{constructor(r,t,l){this.studentService=r;this.http=t;this.cdr=l}students=[];filteredStudents=[];selectedStudent=null;isLoading=!1;isInitialLoad=!0;showModal=!1;isEditMode=!1;searchQuery="";filterStatus="Semua";filterPaymentStatus="Semua";showGlobalNotification=!1;globalNotificationMessage="";globalNotificationType="success";showModalNotification=!1;modalNotificationMessage="";modalNotificationType="success";selectedFile=null;photoPreview=null;isUploadingPhoto=!1;currentPage=1;itemsPerPage=10;totalPages=0;studentForm=this.initializeForm();showPaymentModal=!1;showPaymentHistoryModal=!1;selectedStudentForPayment=null;paymentHistory=[];overdueStudents=[];upcomingPayments=[];paymentForm={studentId:"",month:"",amount:0,paymentDate:new Date,method:"Cash",notes:""};searchSubject=new D;destroy$=new D;ngOnInit(){this.setupSearchDebounce(),this.loadStudents(),this.loadOverduePayments()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}trackByStudentId(r,t){return t._id||t.studentId||r.toString()}setupSearchDebounce(){this.searchSubject.pipe(N(300),L(),y(this.destroy$)).subscribe(r=>{this.searchQuery=r,this.currentPage=1,this.applyFilters()})}getCurrentMonthStatus(r){return r.currentMonthPayment&&r.currentMonthPayment.status||"Pending"}getCurrentMonthLabel(){return new Date().toLocaleDateString("id-ID",{month:"long",year:"numeric"})}getCurrentMonthShort(){let r=new Date;return`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`}isCurrentMonthPaid(r){return this.getCurrentMonthStatus(r)==="Paid"}getCurrentMonthAmount(r){return r.currentMonthPayment&&r.currentMonthPayment.amount||0}getCurrentMonthPaidDate(r){return!r.currentMonthPayment||!r.currentMonthPayment.paidDate?null:new Date(r.currentMonthPayment.paidDate)}onFileSelected(r){let t=r.target.files[0];if(!t)return;if(!t.type.match(/image\/(jpeg|jpg|png|gif|webp)/)){this.showModalNotificationAlert("Format file tidak didukung. Gunakan JPEG, PNG, GIF, atau WEBP.","error"),r.target.value="";return}if(t.size>5*1024*1024){this.showModalNotificationAlert("Ukuran file terlalu besar. Maksimal 5MB.","error"),r.target.value="";return}this.selectedFile=t;let l=new FileReader;l.onload=a=>{this.photoPreview=a.target.result,this.cdr.detectChanges()},l.readAsDataURL(t)}getPhotoUrl(r){if(!r)return"assets/images/default-avatar.svg";if(r.startsWith("http")||r.startsWith("data:"))return r;let t=K.apiUrl.replace("/api",""),l=new Date().getTime();return`${t}${r}?t=${l}`}onImageError(r){r.target.src="assets/images/default-avatar.svg"}clearPhotoPreview(){this.photoPreview=null,this.selectedFile=null}loadStudents(){this.isLoading=!0,this.studentService.getStudents().pipe(y(this.destroy$)).subscribe({next:r=>{this.students=Array.isArray(r)?r:[],this.isInitialLoad=!1,this.isLoading=!1,this.applyFilters(),this.cdr.detectChanges(),this.students.length===0&&this.showGlobalToast("Belum ada data siswa.","info")},error:r=>{console.error("\u274C Error loading students:",r),this.students=[],this.filteredStudents=[],this.isInitialLoad=!1,this.isLoading=!1,this.cdr.detectChanges(),this.showGlobalToast("Gagal memuat data siswa.","error")}})}loadOverduePayments(){this.studentService.getOverduePayments().pipe(y(this.destroy$)).subscribe({next:r=>{let t=new Date;this.overdueStudents=r.filter(l=>l.currentMonthPayment?.status==="Overdue"||l.paymentStatus==="Overdue"),this.upcomingPayments=r.filter(l=>{if(!l.nextPaymentDue)return!1;let s=new Date(l.nextPaymentDue).getTime()-t.getTime(),I=Math.ceil(s/(1e3*60*60*24));return I>=0&&I<=3&&l.currentMonthPayment?.status==="Pending"}),this.cdr.detectChanges()},error:r=>console.error("Error loading payments:",r)})}filterByStatus(r){return Array.isArray(this.students)?r==="Semua"?this.students:this.students.filter(t=>t.status===r):[]}applyFilters(){if(!Array.isArray(this.students)){this.filteredStudents=[];return}let r=[...this.students];if(this.searchQuery&&this.searchQuery.trim()!==""){let t=this.searchQuery.toLowerCase().trim();r=r.filter(l=>l.fullName?.toLowerCase().includes(t)||l.studentId?.toLowerCase().includes(t)||l.phone?.includes(t)||l.parentName?.toLowerCase().includes(t))}this.filterStatus&&this.filterStatus!=="Semua"&&(r=r.filter(t=>t.status===this.filterStatus)),this.filterPaymentStatus&&this.filterPaymentStatus!=="Semua"&&(r=r.filter(t=>this.filterPaymentStatus==="No Payment"?!t.monthlyFee||t.monthlyFee===0:(t.currentMonthPayment?.status||"Pending")===this.filterPaymentStatus)),this.filteredStudents=r,this.totalPages=Math.ceil(r.length/this.itemsPerPage),this.currentPage>this.totalPages&&this.totalPages>0&&(this.currentPage=1),this.cdr.detectChanges()}onSearchChange(r){let t=r.target.value||"";this.searchSubject.next(t)}onFilterChange(){this.currentPage=1,this.applyFilters()}getPaginatedStudents(){if(!Array.isArray(this.filteredStudents))return[];let r=(this.currentPage-1)*this.itemsPerPage,t=r+this.itemsPerPage;return this.filteredStudents.slice(r,t)}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r,this.cdr.detectChanges())}openModal(r){this.isEditMode=!!r,r?(this.studentForm=V({},r),this.photoPreview=null):(this.studentForm=this.initializeForm(),this.photoPreview=null),this.selectedFile=null,this.hideModalNotification(),this.showModal=!0,this.cdr.detectChanges()}closeModal(){this.showModal=!1,this.hideModalNotification(),this.studentForm=this.initializeForm(),this.selectedFile=null,this.photoPreview=null,this.cdr.detectChanges()}viewDetails(r){this.selectedStudent=r,this.cdr.detectChanges()}closeDetails(){this.selectedStudent=null,this.cdr.detectChanges()}openPaymentModal(r){if(!r._id){this.showGlobalToast("Student ID tidak valid!","error");return}this.selectedStudentForPayment=r;let t=new Date,l=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;this.paymentForm={studentId:r._id,month:l,amount:r.monthlyFee||0,paymentDate:new Date,method:"Cash",notes:""},this.showPaymentModal=!0,this.hideModalNotification(),this.cdr.detectChanges()}closePaymentModal(){this.showPaymentModal=!1,this.selectedStudentForPayment=null,this.hideModalNotification(),this.cdr.detectChanges()}viewPaymentHistory(r){r._id&&(this.selectedStudentForPayment=r,this.isLoading=!0,this.studentService.getPaymentHistory(r._id).pipe(y(this.destroy$)).subscribe({next:t=>{this.paymentHistory=t,this.showPaymentHistoryModal=!0,this.isLoading=!1,this.cdr.detectChanges()},error:t=>{console.error("Error loading payment history:",t),this.isLoading=!1,this.showGlobalToast("Gagal memuat riwayat pembayaran","error")}}))}closePaymentHistoryModal(){this.showPaymentHistoryModal=!1,this.paymentHistory=[],this.selectedStudentForPayment=null,this.cdr.detectChanges()}saveStudent(){if(this.hideModalNotification(),!this.validateForm()){this.showModalNotificationAlert("Mohon lengkapi semua field yang wajib diisi!","warning");return}this.isLoading=!0;let r=()=>{this.isEditMode&&this.studentForm._id?this.studentService.updateStudent(this.studentForm._id,this.studentForm).pipe(y(this.destroy$)).subscribe({next:()=>{this.isLoading=!1,this.showModalNotificationAlert(`Data siswa ${this.studentForm.fullName} berhasil diupdate!`,"success"),this.loadStudents(),this.loadOverduePayments(),setTimeout(()=>{this.closeModal(),this.showGlobalToast(`Data siswa ${this.studentForm.fullName} berhasil diupdate!`,"success")},1500)},error:t=>{console.error("Error updating student:",t),this.isLoading=!1,this.showModalNotificationAlert(`Gagal mengupdate: ${t.message}`,"error")}}):this.studentService.createStudent(this.studentForm).pipe(y(this.destroy$)).subscribe({next:t=>{this.selectedFile&&t._id?this.uploadPhotoAfterCreate(t._id):(this.isLoading=!1,this.showModalNotificationAlert(`Siswa ${this.studentForm.fullName} berhasil ditambahkan!`,"success"),this.loadStudents(),this.loadOverduePayments(),setTimeout(()=>{this.closeModal(),this.showGlobalToast(`Siswa ${this.studentForm.fullName} berhasil ditambahkan!`,"success")},1500))},error:t=>{console.error("Error creating student:",t),this.isLoading=!1,this.showModalNotificationAlert(`Gagal menambahkan: ${t.message}`,"error")}})};this.isEditMode&&this.selectedFile&&this.studentForm._id?this.studentService.uploadPhoto(this.studentForm._id,this.selectedFile).pipe(y(this.destroy$)).subscribe({next:t=>{this.studentForm.photo=t.photo,this.selectedFile=null,this.photoPreview=null,r()},error:t=>{console.error("Error uploading photo:",t),this.showModalNotificationAlert("Foto gagal diupload, tapi data akan tetap disimpan","warning"),r()}}):r()}uploadPhotoAfterCreate(r){if(!this.selectedFile){this.isLoading=!1;return}this.studentService.uploadPhoto(r,this.selectedFile).pipe(y(this.destroy$)).subscribe({next:t=>{this.selectedFile=null,this.photoPreview=null,this.isLoading=!1,this.showModalNotificationAlert(`Siswa ${this.studentForm.fullName} berhasil ditambahkan dengan foto!`,"success"),this.studentService.refreshCache(),this.loadStudents(),this.loadOverduePayments(),setTimeout(()=>{this.closeModal(),this.showGlobalToast(`Siswa ${this.studentForm.fullName} berhasil ditambahkan!`,"success")},1500)},error:t=>{console.error("\u274C Error uploading photo:",t),this.isLoading=!1,this.showModalNotificationAlert(`Siswa ditambahkan tapi foto gagal diupload: ${t.message}`,"warning"),this.loadStudents(),this.loadOverduePayments(),setTimeout(()=>{this.closeModal(),this.showGlobalToast(`Siswa ${this.studentForm.fullName} berhasil ditambahkan!`,"success")},2e3)}})}deleteStudent(r){confirm(`Apakah Anda yakin ingin menghapus siswa ${r.fullName}?`)&&r._id&&this.studentService.deleteStudent(r._id).pipe(y(this.destroy$)).subscribe({next:()=>{this.loadStudents(),this.loadOverduePayments(),this.showGlobalToast(`Siswa ${r.fullName} berhasil dihapus!`,"success")},error:t=>{console.error("Error deleting student:",t),this.showGlobalToast(`Gagal menghapus: ${t.message}`,"error")}})}saveMonthlyPayment(){if(this.hideModalNotification(),!this.paymentForm.month||this.paymentForm.amount<=0){this.showModalNotificationAlert("Mohon lengkapi data pembayaran!","warning");return}if(!this.paymentForm.studentId){this.showModalNotificationAlert("Student ID tidak ditemukan!","error");return}this.isLoading=!0,this.studentService.addMonthlyPayment(this.paymentForm.studentId,this.paymentForm).pipe(y(this.destroy$)).subscribe({next:()=>{this.isLoading=!1,this.showModalNotificationAlert(`Pembayaran bulan ${this.paymentForm.month} berhasil dicatat!`,"success"),this.loadStudents(),this.loadOverduePayments(),setTimeout(()=>{this.closePaymentModal(),this.showGlobalToast("Pembayaran berhasil dicatat!","success")},1500)},error:r=>{this.isLoading=!1,this.showModalNotificationAlert(`Gagal mencatat pembayaran: ${r.message}`,"error")}})}getMonthsUnpaid(r){return r.monthsUnpaid||0}showGlobalToast(r,t="success"){this.globalNotificationMessage=r,this.globalNotificationType=t,this.showGlobalNotification=!0,this.cdr.detectChanges(),setTimeout(()=>{this.hideGlobalNotification()},5e3)}hideGlobalNotification(){this.showGlobalNotification=!1,this.cdr.detectChanges()}showModalNotificationAlert(r,t="success"){this.modalNotificationMessage=r,this.modalNotificationType=t,this.showModalNotification=!0,this.cdr.detectChanges(),t==="success"&&setTimeout(()=>{this.hideModalNotification()},3e3)}hideModalNotification(){this.showModalNotification=!1,this.cdr.detectChanges()}initializeForm(){return{studentId:this.generateStudentId(),fullName:"",dateOfBirth:new Date,gender:"Laki-laki",parentName:"",phone:"",email:"",address:"",emergencyContact:"",emergencyPhone:"",classLevel:"Baby Swimming",swimmingAbility:"Belum Bisa",healthCondition:"",allergies:"",registrationDate:new Date,status:"Aktif",monthlyFee:0,paymentDueDate:10,enableReminder:!1}}generateStudentId(){let t=Date.now().toString().slice(-6),l=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`LS${t}${l}`}validateForm(){return!!(this.studentForm.fullName&&this.studentForm.parentName&&this.studentForm.phone&&this.studentForm.address&&this.studentForm.emergencyContact&&this.studentForm.emergencyPhone)}calculateAge(r){if(!r)return 0;let t=new Date,l=typeof r=="string"?new Date(r):r;if(isNaN(l.getTime()))return 0;let a=t.getFullYear()-l.getFullYear(),s=t.getMonth()-l.getMonth();return(s<0||s===0&&t.getDate()<l.getDate())&&a--,a}static \u0275fac=function(t){return new(t||d)(F(st),F(q),F(z))};static \u0275cmp=B({type:d,selectors:[["app-students"]],decls:91,vars:32,consts:[["fileInput",""],[1,"students-container"],[1,"page-header"],[1,"header-left"],[1,"header-right"],[1,"btn-primary",3,"click"],[1,"icon"],["class","payment-dashboard",4,"ngIf"],[1,"stats-grid"],[1,"stat-card","active"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-card","inactive"],[1,"stat-card","leave"],[1,"stat-card","total"],[1,"filter-section"],[1,"search-box"],[1,"search-icon"],["type","text","placeholder","Cari nama siswa, ID, nomor telepon...",3,"input","value"],[1,"filter-group"],[3,"ngModelChange","change","ngModel"],["value","Semua"],["value","Aktif"],["value","Non-Aktif"],["value","Cuti"],["value","Paid"],["value","Pending"],["value","Overdue"],["value","No Payment"],["class","loading-overlay",4,"ngIf"],["class","table-container",4,"ngIf"],["class","pagination",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"toast-notification"],[1,"toast-content"],[1,"toast-icon"],[4,"ngIf"],[1,"toast-message"],[1,"toast-close",3,"click"],[1,"toast-progress"],[1,"payment-dashboard"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert-header"],[1,"alert-title"],[1,"alert-icon"],[1,"badge","badge-danger"],[1,"payment-list"],["class","payment-item",4,"ngFor","ngForOf"],["class","alert-footer",4,"ngIf"],[1,"payment-item"],[1,"student-info"],[3,"error","src","alt"],[1,"student-details"],[1,"overdue-info"],[1,"amount"],[1,"payment-actions"],[1,"btn-sm","btn-primary",3,"click"],[1,"btn-sm","btn-outline",3,"click"],[1,"alert-footer"],[1,"alert","alert-warning"],[1,"badge","badge-warning"],[1,"loading-overlay"],[1,"spinner"],[1,"table-container"],["class","table-loading",4,"ngIf"],[1,"students-table"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-state",4,"ngIf"],[1,"table-loading"],[1,"small-spinner"],[1,"student-photo"],["loading","lazy",3,"error","src","alt"],[1,"student-name"],[1,"student-id"],[1,"payment-status-cell"],["class","no-payment",4,"ngIf"],[1,"action-buttons"],["class","btn-action payment","title","Riwayat Pembayaran",3,"click",4,"ngIf"],["class","btn-action pay","title","Bayar SPP",3,"click",4,"ngIf"],["title","Lihat Detail",1,"btn-action","view",3,"click"],["title","Edit",1,"btn-action","edit",3,"click"],["title","Hapus",1,"btn-action","delete",3,"click"],["class","payment-details",4,"ngIf"],[1,"payment-details"],[1,"paid-date"],[1,"no-payment"],["title","Riwayat Pembayaran",1,"btn-action","payment",3,"click"],["title","Bayar SPP",1,"btn-action","pay",3,"click"],[1,"empty-state"],[1,"empty-icon"],["class","btn-primary",3,"click",4,"ngIf"],[1,"pagination"],[1,"btn-page",3,"click","disabled"],[1,"page-info"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click","disabled"],["class","modal-notification",3,"success","error","warning","info",4,"ngIf"],[1,"modal-body"],["class","modal-loading-overlay",4,"ngIf"],[1,"student-form"],[1,"form-section"],[1,"photo-upload-container"],[1,"photo-preview"],["alt","Preview",1,"preview-image",3,"error","src"],[1,"upload-controls"],["type","file","accept","image/*",2,"display","none",3,"change","disabled"],["type","button",1,"btn-upload",3,"click","disabled"],["type","button","class","btn-remove",3,"disabled","click",4,"ngIf"],[1,"upload-hint"],[1,"form-row"],[1,"form-group"],["type","text","name","studentId","readonly","",3,"ngModelChange","ngModel"],[1,"required"],["type","text","name","fullName","required","",3,"ngModelChange","ngModel","disabled"],["type","date","name","dateOfBirth","required","",3,"ngModelChange","ngModel","disabled"],["name","gender","required","",3,"ngModelChange","ngModel","disabled"],["value","Laki-laki"],["value","Perempuan"],["type","text","name","parentName","required","",3,"ngModelChange","ngModel","disabled"],["type","tel","name","phone","required","",3,"ngModelChange","ngModel","disabled"],[1,"form-group","full-width"],["type","email","name","email",3,"ngModelChange","ngModel","disabled"],["name","address","rows","3","required","",3,"ngModelChange","ngModel","disabled"],["type","text","name","emergencyContact","required","",3,"ngModelChange","ngModel","disabled"],["type","tel","name","emergencyPhone","required","",3,"ngModelChange","ngModel","disabled"],["name","classLevel","required","",3,"ngModelChange","ngModel","disabled"],["value","Pemula"],["value","Menengah"],["value","Lanjut"],["value","Private"],["name","swimmingAbility","required","",3,"ngModelChange","ngModel","disabled"],["value","Belum Bisa"],["value","Dasar"],["value","Mahir"],["name","healthCondition","rows","2",3,"ngModelChange","ngModel","disabled"],["name","allergies","rows","2",3,"ngModelChange","ngModel","disabled"],["type","date","name","registrationDate","required","",3,"ngModelChange","ngModel","disabled"],["name","status","required","",3,"ngModelChange","ngModel","disabled"],["type","number","name","monthlyFee","placeholder","500000","min","0",3,"ngModelChange","ngModel","disabled"],["type","number","name","paymentDueDate","min","1","max","31","placeholder","10",3,"ngModelChange","ngModel","disabled"],[1,"form-hint"],[1,"checkbox-label"],["type","checkbox","name","enableReminder",3,"ngModelChange","ngModel","disabled"],[1,"modal-footer"],[1,"btn-secondary",3,"click","disabled"],[1,"btn-primary",3,"click","disabled"],["class","button-loading",4,"ngIf"],[1,"modal-notification"],[1,"notification-icon"],[1,"notification-message"],[1,"notification-close",3,"click"],[1,"modal-loading-overlay"],[1,"modal-spinner"],["type","button",1,"btn-remove",3,"click","disabled"],[1,"button-loading"],[1,"button-spinner"],[1,"modal-content","payment-modal",3,"click"],["class","payment-student-info",4,"ngIf"],[1,"payment-form"],["type","month","name","month","required","",3,"ngModelChange","ngModel","disabled"],["type","number","name","amount","placeholder","500000","min","0","required","",3,"ngModelChange","ngModel","disabled"],["type","date","name","paymentDate","required","",3,"ngModelChange","ngModel","disabled"],["name","method",3,"ngModelChange","ngModel","disabled"],["value","Cash"],["value","Transfer"],["name","notes","placeholder","Catatan tambahan...","rows","3",3,"ngModelChange","ngModel","disabled"],[1,"payment-student-info"],[1,"monthly-fee"],[1,"modal-content","history-modal",3,"click"],[1,"btn-close",3,"click"],["class","student-info-header",4,"ngIf"],["class","payment-history-table",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"student-info-header"],[1,"payment-history-table"],[4,"ngFor","ngForOf"],[1,"badge"],[1,"modal-content","detail-modal",3,"click"],[1,"detail-content"],[1,"detail-header"],[1,"detail-photo"],[1,"detail-title"],[1,"status-badges"],[1,"detail-info"],[1,"detail-section"],[1,"detail-grid"],[1,"detail-item"],[1,"label"],[1,"value"],[1,"detail-item","full-width"],[1,"phone-link",3,"href"],["class","email-link",3,"href",4,"ngIf"],["class","detail-section",4,"ngIf"],["class","btn-info",3,"click",4,"ngIf"],[1,"email-link",3,"href"],["class","detail-item full-width",4,"ngIf"],[1,"value","health-info"],[1,"value","allergy-info"],[1,"btn-info",3,"click"]],template:function(t,l){t&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),i(4,"\u{1F465} Data Siswa"),n(),e(5,"p"),i(6,"Kelola data siswa Lafi Swimming Academy"),n()(),e(7,"div",4)(8,"button",5),p("click",function(){return l.openModal()}),e(9,"span",6),i(10,"\u2795"),n(),i(11," Tambah Siswa Baru "),n()()(),f(12,ft,3,2,"div",7),e(13,"div",8)(14,"div",9)(15,"div",10),i(16,"\u2705"),n(),e(17,"div",11)(18,"h3"),i(19),n(),e(20,"p"),i(21,"Siswa Aktif"),n()()(),e(22,"div",12)(23,"div",10),i(24,"\u23F8\uFE0F"),n(),e(25,"div",11)(26,"h3"),i(27),n(),e(28,"p"),i(29,"Non Aktif"),n()()(),e(30,"div",13)(31,"div",10),i(32,"\u{1F3D6}\uFE0F"),n(),e(33,"div",11)(34,"h3"),i(35),n(),e(36,"p"),i(37,"Sedang Cuti"),n()()(),e(38,"div",14)(39,"div",10),i(40,"\u{1F4CA}"),n(),e(41,"div",11)(42,"h3"),i(43),n(),e(44,"p"),i(45,"Total Siswa"),n()()()(),e(46,"div",15)(47,"div",16)(48,"span",17),i(49,"\u{1F50D}"),n(),e(50,"input",18),p("input",function(s){return l.onSearchChange(s)}),n()(),e(51,"div",19)(52,"select",20),M("ngModelChange",function(s){return C(l.filterStatus,s)||(l.filterStatus=s),s}),p("change",function(){return l.onFilterChange()}),e(53,"option",21),i(54,"Semua Status"),n(),e(55,"option",22),i(56,"Aktif"),n(),e(57,"option",23),i(58,"Non Aktif"),n(),e(59,"option",24),i(60,"Cuti"),n()(),e(61,"select",20),M("ngModelChange",function(s){return C(l.filterPaymentStatus,s)||(l.filterPaymentStatus=s),s}),p("change",function(){return l.onFilterChange()}),e(62,"option",21),i(63,"Semua Pembayaran"),n(),e(64,"option",25),i(65,"Lunas"),n(),e(66,"option",26),i(67,"Pending"),n(),e(68,"option",27),i(69,"Terlambat"),n(),e(70,"option",28),i(71,"Tanpa Pembayaran"),n()()()(),f(72,ht,4,0,"div",29)(73,kt,24,5,"div",30)(74,Ft,7,5,"div",31),n(),f(75,zt,190,49,"div",32)(76,Qt,48,17,"div",32)(77,te,14,3,"div",32)(78,le,114,44,"div",32),e(79,"div",33)(80,"div",34)(81,"span",35),f(82,se,2,0,"span",36)(83,ce,2,0,"span",36)(84,me,2,0,"span",36)(85,ge,2,0,"span",36),n(),e(86,"span",37),i(87),n(),e(88,"button",38),p("click",function(){return l.hideGlobalNotification()}),i(89,"\u2715"),n()(),E(90,"div",39),n()),t&2&&(o(12),c("ngIf",l.overdueStudents.length>0||l.upcomingPayments.length>0),o(7),_(l.filterByStatus("Aktif").length),o(8),_(l.filterByStatus("Non-Aktif").length),o(8),_(l.filterByStatus("Cuti").length),o(8),_(l.students.length),o(7),c("value",l.searchQuery),o(2),b("ngModel",l.filterStatus),o(9),b("ngModel",l.filterPaymentStatus),o(11),c("ngIf",l.isInitialLoad&&l.isLoading),o(),c("ngIf",!l.isInitialLoad),o(),c("ngIf",l.filteredStudents.length>0&&!l.isInitialLoad),o(),c("ngIf",l.showModal),o(),c("ngIf",l.showPaymentModal),o(),c("ngIf",l.showPaymentHistoryModal),o(),c("ngIf",l.selectedStudent),o(),k("show",l.showGlobalNotification)("success",l.globalNotificationType==="success")("error",l.globalNotificationType==="error")("info",l.globalNotificationType==="info")("warning",l.globalNotificationType==="warning"),o(3),c("ngIf",l.globalNotificationType==="success"),o(),c("ngIf",l.globalNotificationType==="error"),o(),c("ngIf",l.globalNotificationType==="info"),o(),c("ngIf",l.globalNotificationType==="warning"),o(2),_(l.globalNotificationMessage),o(3),k("animate",l.showGlobalNotification))},dependencies:[H,j,G,lt,tt,it,at,Q,et,Y,nt,J,X,dt,rt,ot,$,Z,U,R],styles:['.students-container[_ngcontent-%COMP%]{padding:2rem;background:#f8fafc;min-height:100vh}@media (max-width: 768px){.students-container[_ngcontent-%COMP%]{padding:1rem}}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:#1e293b;margin:0 0 .5rem;font-weight:700}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.page-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:1rem}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}}.payment-dashboard[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;flex-direction:column;gap:1rem}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border-left:4px solid;animation:_ngcontent-%COMP%_slideIn .3s ease}.payment-dashboard[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{border-left-color:#ef4444;background:#fef2f2}.payment-dashboard[_ngcontent-%COMP%]   .alert.alert-warning[_ngcontent-%COMP%]{border-left-color:#f59e0b;background:#fffbeb}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-header[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-header[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{font-size:1.5rem}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-header[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.1rem;color:#1e293b}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.875rem;font-weight:600}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-header[_ngcontent-%COMP%]   .badge.badge-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-header[_ngcontent-%COMP%]   .badge.badge-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#fff;border-radius:8px;border:1px solid #e2e8f0;transition:all .3s ease}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]:hover{box-shadow:0 1px 3px #0000001a;transform:translateY(-2px)}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .student-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .student-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;border:2px solid #e2e8f0}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .student-info[_ngcontent-%COMP%]   .student-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#1e293b;font-size:1rem}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .student-info[_ngcontent-%COMP%]   .student-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#64748b;font-size:.875rem}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .student-info[_ngcontent-%COMP%]   .student-details[_ngcontent-%COMP%]   .overdue-info[_ngcontent-%COMP%]{margin-top:.25rem;display:flex;gap:1rem;align-items:center}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .student-info[_ngcontent-%COMP%]   .student-details[_ngcontent-%COMP%]   .overdue-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .student-info[_ngcontent-%COMP%]   .student-details[_ngcontent-%COMP%]   .overdue-info[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;white-space:nowrap}@media (max-width: 768px){.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-actions[_ngcontent-%COMP%]{width:100%}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .payment-list[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-footer[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #e2e8f0;text-align:center}.payment-dashboard[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-footer[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#64748b;font-style:italic}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 1px 3px #0000001a;display:flex;align-items:center;gap:1rem;transition:all .3s ease;border-left:4px solid}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #0000001a}.stats-grid[_ngcontent-%COMP%]   .stat-card.active[_ngcontent-%COMP%]{border-left-color:#10b981}.stats-grid[_ngcontent-%COMP%]   .stat-card.active[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.stats-grid[_ngcontent-%COMP%]   .stat-card.inactive[_ngcontent-%COMP%]{border-left-color:#94a3b8}.stats-grid[_ngcontent-%COMP%]   .stat-card.inactive[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#94a3b81a;color:#94a3b8}.stats-grid[_ngcontent-%COMP%]   .stat-card.leave[_ngcontent-%COMP%]{border-left-color:#f59e0b}.stats-grid[_ngcontent-%COMP%]   .stat-card.leave[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.stats-grid[_ngcontent-%COMP%]   .stat-card.total[_ngcontent-%COMP%]{border-left-color:#8b5cf6}.stats-grid[_ngcontent-%COMP%]   .stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:2rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;margin:0;color:#1e293b;font-weight:700}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;font-size:.9rem}.filter-section[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;flex-wrap:wrap}.filter-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:1;min-width:300px;position:relative}.filter-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);font-size:1.2rem;color:#64748b;pointer-events:none}.filter-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 3rem;border:1px solid #e2e8f0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:#fff}.filter-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0ea5e9;box-shadow:0 0 0 3px #0ea5e91a}.filter-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#64748b}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:flex;gap:1rem}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.875rem 1rem;border:1px solid #e2e8f0;border-radius:12px;background:#fff;font-size:1rem;cursor:pointer;transition:all .3s ease;min-width:180px}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#0ea5e9;box-shadow:0 0 0 3px #0ea5e91a}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#c0cddf}@media (max-width: 768px){.filter-section[_ngcontent-%COMP%]{flex-direction:column}.filter-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{min-width:100%}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{width:100%;flex-direction:column}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-info[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%], .btn-upload[_ngcontent-%COMP%], .btn-remove[_ngcontent-%COMP%]{padding:.875rem 1.5rem;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;white-space:nowrap}.btn-primary[_ngcontent-%COMP%]:disabled, .btn-secondary[_ngcontent-%COMP%]:disabled, .btn-info[_ngcontent-%COMP%]:disabled, .btn-danger[_ngcontent-%COMP%]:disabled, .btn-outline[_ngcontent-%COMP%]:disabled, .btn-upload[_ngcontent-%COMP%]:disabled, .btn-remove[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:#0ea5e9;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0284c7;transform:translateY(-2px);box-shadow:0 4px 12px #0ea5e94d}.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-secondary[_ngcontent-%COMP%]{background:#64748b;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#4f5b6d}.btn-info[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-info[_ngcontent-%COMP%]:hover:not(:disabled){background:#0b63f3}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#eb1515}.btn-sm[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem}.btn-outline[_ngcontent-%COMP%]{background:transparent;border:1px solid #e2e8f0;color:#1e293b}.btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#f8fafc;border-color:#0ea5e9;color:#0ea5e9}.btn-upload[_ngcontent-%COMP%]{background:#0ea5e91a;color:#0ea5e9;border:2px dashed #0ea5e9}.btn-upload[_ngcontent-%COMP%]:hover:not(:disabled){background:#0ea5e9;color:#fff}.btn-remove[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444}.btn-remove[_ngcontent-%COMP%]:hover:not(:disabled){background:#ef4444;color:#fff}.btn-close[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:#ef44441a;color:#ef4444;border-radius:8px;font-size:1.5rem;cursor:pointer;transition:all .15s ease;display:flex;align-items:center;justify-content:center}.btn-close[_ngcontent-%COMP%]:hover:not(:disabled){background:#ef4444;color:#fff;transform:rotate(90deg)}.btn-page[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid #e2e8f0;background:#fff;border-radius:8px;cursor:pointer;transition:all .3s ease;font-weight:600;color:#1e293b}.btn-page[_ngcontent-%COMP%]:hover:not(:disabled){background:#0ea5e9;color:#fff;border-color:#0ea5e9}.btn-page[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.loading-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem;background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a}.loading-overlay[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid #e2e8f0;border-top-color:#0ea5e9;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:#64748b}.table-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;background:#0ea5e91a;border-radius:12px;margin-bottom:1rem}.table-loading[_ngcontent-%COMP%]   .small-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e2e8f0;border-top-color:#0ea5e9;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.table-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0ea5e9;font-weight:600}.modal-loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffffff2;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10;border-radius:12px}.modal-loading-overlay[_ngcontent-%COMP%]   .modal-spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #e2e8f0;border-top-color:#0ea5e9;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.modal-loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:#1e293b;font-weight:600}.button-loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.button-loading[_ngcontent-%COMP%]   .button-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden}.students-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.students-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0ea5e9,#0284c7)}.students-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;color:#fff;font-weight:600;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;white-space:nowrap}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0;transition:all .3s ease}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8fafc}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;color:#1e293b;vertical-align:middle}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .student-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;border:2px solid #e2e8f0;transition:all .3s ease}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .student-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 1px 3px #0000001a}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .student-info[_ngcontent-%COMP%]   .student-name[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1e293b;margin-bottom:.25rem}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .student-info[_ngcontent-%COMP%]   .student-id[_ngcontent-%COMP%]{display:block;color:#64748b;font-size:.875rem}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .payment-status-cell[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;min-width:140px}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .payment-status-cell[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;width:fit-content}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .payment-status-cell[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;color:#64748b;font-size:.75rem;margin-top:.25rem}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .payment-status-cell[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .paid-date[_ngcontent-%COMP%]{color:#10b981;font-weight:600}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .payment-status-cell[_ngcontent-%COMP%]   .no-payment[_ngcontent-%COMP%]{color:#64748b;font-style:italic}@media (max-width: 1024px){.students-table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}.students-table[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.students-table[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f8fafc}.students-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:4px}.students-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#64748b}}.badge[_ngcontent-%COMP%]{display:inline-block;padding:.375rem .875rem;border-radius:20px;font-size:.875rem;font-weight:600;white-space:nowrap}.badge.status-aktif[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.badge.status-nonaktif[_ngcontent-%COMP%]{background:#94a3b81a;color:#94a3b8}.badge.status-cuti[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.badge.level-pemula[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}.badge.level-menengah[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.badge.level-lanjut[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.badge.level-private[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.badge.ability-belum-bisa[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444}.badge.ability-dasar[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}.badge.ability-menengah[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.badge.ability-mahir[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.badge.payment-paid[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981;border:1px solid rgba(16,185,129,.3)}.badge.payment-pending[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b;border:1px solid rgba(245,158,11,.3)}.badge.payment-overdue[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444;border:1px solid rgba(239,68,68,.3)}.badge.badge-success[_ngcontent-%COMP%]{background:#10b981;color:#fff}.badge.badge-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.badge.badge-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap}.action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.action-buttons[_ngcontent-%COMP%]   .btn-action.payment[_ngcontent-%COMP%]{background:#3b82f61a}.action-buttons[_ngcontent-%COMP%]   .btn-action.payment[_ngcontent-%COMP%]:hover{background:#3b82f6;transform:scale(1.1)}.action-buttons[_ngcontent-%COMP%]   .btn-action.pay[_ngcontent-%COMP%]{background:#10b9811a}.action-buttons[_ngcontent-%COMP%]   .btn-action.pay[_ngcontent-%COMP%]:hover{background:#10b981;transform:scale(1.1)}.action-buttons[_ngcontent-%COMP%]   .btn-action.view[_ngcontent-%COMP%]{background:#3b82f61a}.action-buttons[_ngcontent-%COMP%]   .btn-action.view[_ngcontent-%COMP%]:hover{background:#3b82f6;transform:scale(1.1)}.action-buttons[_ngcontent-%COMP%]   .btn-action.edit[_ngcontent-%COMP%]{background:#f59e0b1a}.action-buttons[_ngcontent-%COMP%]   .btn-action.edit[_ngcontent-%COMP%]:hover{background:#f59e0b;transform:scale(1.1)}.action-buttons[_ngcontent-%COMP%]   .btn-action.delete[_ngcontent-%COMP%]{background:#ef44441a}.action-buttons[_ngcontent-%COMP%]   .btn-action.delete[_ngcontent-%COMP%]:hover{background:#ef4444;transform:scale(1.1)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:5rem;margin-bottom:1rem;opacity:.5;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1e293b;margin-bottom:.5rem;font-size:1.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin-bottom:1.5rem}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:2rem;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a}.pagination[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{color:#64748b;font-weight:500}@media (max-width: 768px){.pagination[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.pagination[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{order:-1}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 20px 40px #00000026;max-width:900px;width:100%;max-height:90vh;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUp .3s ease;position:relative}.modal-content.payment-modal[_ngcontent-%COMP%]{max-width:600px}.modal-content.history-modal[_ngcontent-%COMP%]{max-width:1000px}.modal-content.detail-modal[_ngcontent-%COMP%]{max-width:800px}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:100%;max-height:95vh;margin:.5rem}}.modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center;background:linear-gradient(135deg,#0ea5e90d,#0284c70d)}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#1e293b;font-size:1.5rem;font-weight:700}.modal-body[_ngcontent-%COMP%]{padding:1.5rem;overflow-y:auto;flex:1}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f8fafc}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#64748b}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid #e2e8f0;display:flex;justify-content:flex-end;gap:1rem;background:#f8fafc}@media (max-width: 480px){.modal-footer[_ngcontent-%COMP%]{flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.modal-notification[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem;border-radius:8px;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideIn .3s ease}.modal-notification.success[_ngcontent-%COMP%]{background:#10b9811a;border:1px solid rgba(16,185,129,.3);color:#0a7350}.modal-notification.error[_ngcontent-%COMP%]{background:#ef44441a;border:1px solid rgba(239,68,68,.3);color:#d41212}.modal-notification.warning[_ngcontent-%COMP%]{background:#f59e0b1a;border:1px solid rgba(245,158,11,.3);color:#ac6f07}.modal-notification.info[_ngcontent-%COMP%]{background:#3b82f61a;border:1px solid rgba(59,130,246,.3);color:#0a59da}.modal-notification[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{font-size:1.5rem}.modal-notification[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]{flex:1;font-weight:500}.modal-notification[_ngcontent-%COMP%]   .notification-close[_ngcontent-%COMP%]{width:24px;height:24px;border:none;background:#0000001a;border-radius:4px;cursor:pointer;transition:all .15s ease;color:inherit}.modal-notification[_ngcontent-%COMP%]   .notification-close[_ngcontent-%COMP%]:hover{background:#0003}.student-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#1e293b;font-size:1.1rem;padding-bottom:.5rem;border-bottom:2px solid #e2e8f0}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}@media (max-width: 640px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:.9rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444;margin-left:.25rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .3s ease;background:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#0ea5e9;box-shadow:0 0 0 3px #0ea5e91a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background:#f8fafc;cursor:not-allowed;opacity:.7}.form-group[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[readonly][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[readonly][_ngcontent-%COMP%]{background:#f8fafc;cursor:default}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px;font-family:inherit}.form-group[_ngcontent-%COMP%]   .form-hint[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;margin-top:.25rem}.form-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer}.form-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.form-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.photo-upload-container[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:center}.photo-upload-container[_ngcontent-%COMP%]   .photo-preview[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:12px;overflow:hidden;border:2px solid #e2e8f0;background:#f8fafc}.photo-upload-container[_ngcontent-%COMP%]   .photo-preview[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.photo-upload-container[_ngcontent-%COMP%]   .upload-controls[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.75rem}.photo-upload-container[_ngcontent-%COMP%]   .upload-controls[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%], .photo-upload-container[_ngcontent-%COMP%]   .upload-controls[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{width:fit-content}.photo-upload-container[_ngcontent-%COMP%]   .upload-controls[_ngcontent-%COMP%]   .upload-hint[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;margin:0}@media (max-width: 640px){.photo-upload-container[_ngcontent-%COMP%]{flex-direction:column}.photo-upload-container[_ngcontent-%COMP%]   .upload-controls[_ngcontent-%COMP%], .photo-upload-container[_ngcontent-%COMP%]   .upload-controls[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%], .photo-upload-container[_ngcontent-%COMP%]   .upload-controls[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{width:100%}}.payment-student-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#f8fafc;border-radius:8px;margin-bottom:1.5rem}.payment-student-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover;border:2px solid #e2e8f0}.payment-student-info[_ngcontent-%COMP%]   .student-details[_ngcontent-%COMP%]{flex:1}.payment-student-info[_ngcontent-%COMP%]   .student-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#1e293b;font-size:1.1rem;margin-bottom:.25rem}.payment-student-info[_ngcontent-%COMP%]   .student-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;font-size:.875rem}.payment-student-info[_ngcontent-%COMP%]   .student-details[_ngcontent-%COMP%]   .monthly-fee[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .75rem;background:#0ea5e91a;color:#0ea5e9;border-radius:20px;font-size:.875rem;font-weight:600}.payment-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.student-info-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#f8fafc;border-radius:8px;margin-bottom:1.5rem}.student-info-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover;border:2px solid #e2e8f0}.student-info-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .25rem;color:#1e293b}.student-info-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b}.payment-history-table[_ngcontent-%COMP%]{overflow-x:auto}.payment-history-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.payment-history-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f8fafc}.payment-history-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem;text-align:left;font-weight:600;color:#1e293b;border-bottom:2px solid #e2e8f0;font-size:.875rem}.payment-history-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0}.payment-history-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#0ea5e905}.payment-history-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;color:#1e293b}.payment-history-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#10b981}.detail-content[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#0ea5e90d,#0284c70d);border-radius:8px;margin-bottom:1.5rem}.detail-content[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .detail-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:12px;object-fit:cover;border:3px solid white;box-shadow:0 1px 3px #0000001a}.detail-content[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .detail-title[_ngcontent-%COMP%]{flex:1}.detail-content[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .detail-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#1e293b}.detail-content[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .detail-title[_ngcontent-%COMP%]   .student-id[_ngcontent-%COMP%]{color:#64748b;margin:0 0 .75rem}.detail-content[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .detail-title[_ngcontent-%COMP%]   .status-badges[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.detail-content[_ngcontent-%COMP%]   .detail-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.detail-content[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#1e293b;font-size:1.1rem;padding-bottom:.5rem;border-bottom:2px solid #e2e8f0}.detail-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}@media (max-width: 640px){.detail-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.detail-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.detail-content[_ngcontent-%COMP%]   .detail-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.detail-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500}.detail-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#1e293b;font-weight:600}.detail-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value.health-info[_ngcontent-%COMP%], .detail-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value.allergy-info[_ngcontent-%COMP%]{background:#f59e0b1a;padding:.5rem;border-radius:6px;font-weight:500}.detail-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .phone-link[_ngcontent-%COMP%], .detail-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .email-link[_ngcontent-%COMP%]{color:#0ea5e9;text-decoration:none;transition:all .3s ease}.detail-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .phone-link[_ngcontent-%COMP%]:hover, .detail-content[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .email-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.toast-notification[_ngcontent-%COMP%]{position:fixed;top:2rem;right:2rem;min-width:300px;max-width:400px;background:#fff;border-radius:12px;box-shadow:0 20px 40px #00000026;z-index:9999;transform:translate(500px);transition:transform .3s ease;overflow:hidden}.toast-notification.show[_ngcontent-%COMP%]{transform:translate(0)}.toast-notification.success[_ngcontent-%COMP%]{border-left:4px solid #10b981}.toast-notification.error[_ngcontent-%COMP%]{border-left:4px solid #ef4444}.toast-notification.warning[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.toast-notification.info[_ngcontent-%COMP%]{border-left:4px solid #3b82f6}.toast-notification[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;gap:.75rem}.toast-notification[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{font-size:1.5rem}.toast-notification[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]{flex:1;color:#1e293b;font-weight:500}.toast-notification[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{width:24px;height:24px;border:none;background:#0000000d;border-radius:4px;cursor:pointer;transition:all .15s ease}.toast-notification[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]:hover{background:#0000001a}.toast-notification[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]{height:4px;background:#e2e8f0}.toast-notification[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]:before{content:"";display:block;height:100%;background:currentColor;transform-origin:left}.toast-notification[_ngcontent-%COMP%]   .toast-progress.animate[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 5s linear}.toast-notification.success[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]:before{background:#10b981}.toast-notification.error[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]:before{background:#ef4444}.toast-notification.warning[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]:before{background:#f59e0b}.toast-notification.info[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]:before{background:#3b82f6}@keyframes _ngcontent-%COMP%_progress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}@media (max-width: 768px){.toast-notification[_ngcontent-%COMP%]{top:1rem;right:1rem;left:1rem;min-width:auto}}@media (max-width: 1024px){.students-container[_ngcontent-%COMP%]{padding:1.5rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.filter-section[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-start}}@media (max-width: 480px){.students-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.5rem}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}}']})};export{ct as Students};
