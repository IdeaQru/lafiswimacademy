import{a as ee}from"./chunk-35GVCJA2.js";import"./chunk-3WGX5MDF.js";import{a as he}from"./chunk-GCENORCN.js";import{a as Se}from"./chunk-KIU6VAAI.js";import{a as _e}from"./chunk-PIEGDITW.js";import{a as te,b as ne,c as ie,d as oe,e as ae,f as re,g as le,h as de,i as ce,j as se,k as me,n as ue,p as ge}from"./chunk-MUSTNSHW.js";import{A as M,Ab as B,Ac as Z,Cb as r,Da as d,Db as h,Eb as y,Fb as L,Hb as b,Ib as w,Jb as P,Na as I,S as $,Sa as H,Ub as j,W as J,a as k,aa as m,b as T,ba as u,bb as _,cb as p,d as xe,db as K,eb as R,fb as O,gb as v,hb as C,ib as n,jb as o,ka as f,kb as Y,o as z,oc as q,qb as x,s as S,sb as g,sc as Q,ta as G,ub as s,uc as U,vc as X,zb as V}from"./chunk-UCSKTA54.js";var N=xe(Se());var F=class l{constructor(t){this.http=t}apiUrl=`${Z.apiUrl}/schedules`;getSchedules(t){let e=new U;return t&&(t.date&&(e=e.set("date",t.date.toISOString())),t.coachId&&(e=e.set("coachId",t.coachId)),t.studentId&&(e=e.set("studentId",t.studentId)),t.program&&(e=e.set("program",t.program)),t.status&&(e=e.set("status",t.status))),this.http.get(this.apiUrl,{params:e}).pipe(S(a=>a.data||[]),M(this.handleError))}getScheduleById(t){return this.http.get(`${this.apiUrl}/${t}`).pipe(S(e=>{if(!e.data)throw new Error("Schedule not found");return e.data}),M(this.handleError))}getSchedulesByDateRange(t,e){let a=new U().set("startDate",t.toISOString()).set("endDate",e.toISOString());return this.http.get(`${this.apiUrl}/range`,{params:a}).pipe(S(i=>i.data||[]),M(this.handleError))}getSchedulesByCoach(t){return this.http.get(`${this.apiUrl}/coach/${t}`).pipe(S(e=>e.data||[]),M(this.handleError))}getSchedulesByStudent(t){return this.http.get(`${this.apiUrl}/student/${t}`).pipe(S(e=>e.data||[]),M(this.handleError))}createSchedule(t){return this.http.post(this.apiUrl,t).pipe(S(e=>{if(!e.data)throw new Error("Failed to create schedule");return e.data}),M(this.handleError))}updateSchedule(t,e){return this.http.put(`${this.apiUrl}/${t}`,e).pipe(S(a=>{if(!a.data)throw new Error("Failed to update schedule");return a.data}),M(this.handleError))}deleteSchedule(t){return this.http.delete(`${this.apiUrl}/${t}`).pipe(S(e=>({success:e.success,message:e.message||"Schedule deleted successfully"})),M(this.handleError))}updateScheduleStatus(t,e){return this.http.patch(`${this.apiUrl}/${t}/status`,{status:e}).pipe(S(a=>{if(!a.data)throw new Error("Failed to update status");return a.data}),M(this.handleError))}toggleReminder(t,e){return this.http.patch(`${this.apiUrl}/${t}/reminder`,{reminderEnabled:e}).pipe(S(a=>{if(!a.data)throw new Error("Failed to toggle reminder");return a.data}),M(this.handleError))}updateReminderSettings(t,e){return this.http.patch(`${this.apiUrl}/${t}/reminder-settings`,e).pipe(S(a=>{if(!a.data)throw new Error("Failed to update reminder settings");return a.data}),M(this.handleError))}sendWhatsAppReminder(t){return this.http.post(`${this.apiUrl}/${t}/send-whatsapp-reminder`,{}).pipe(M(this.handleError))}checkConflicts(t){return this.http.post(`${this.apiUrl}/check-conflicts`,t).pipe(M(this.handleError))}handleError(t){let e="An unknown error occurred";return t.error instanceof ErrorEvent?e=`Error: ${t.error.message}`:t.error?.message?e=t.error.message:t.message?e=t.message:e=`Server returned code ${t.status}: ${t.statusText}`,console.error("Schedule Service Error:",e),z(()=>new Error(e))}static \u0275fac=function(e){return new(e||l)(J(X))};static \u0275prov=$({token:l,factory:l.\u0275fac,providedIn:"root"})};var Ce=(l,t)=>t.value,A=(l,t)=>t._id;function Pe(l,t){if(l&1){let e=x();n(0,"button",17),g("click",function(){m(e);let i=s();return u(i.openCreateModal())}),n(1,"span"),r(2,"\u2795"),o(),n(3,"span"),r(4,"Buat Jadwal Baru"),o()()}}function Oe(l,t){if(l&1&&(n(0,"option",10),r(1),o()),l&2){let e=t.$implicit;C("value",e._id),d(),h(e.fullName)}}function ve(l,t){if(l&1){let e=x();n(0,"div",7)(1,"label"),r(2,"Filter Pelatih:"),o(),n(3,"select",8),g("ngModelChange",function(i){m(e);let c=s();return u(c.filterCoach.set(i))}),n(4,"option",9),r(5,"Semua Pelatih"),o(),O(6,Oe,2,2,"option",10,A),o()()}if(l&2){let e=s();d(3),C("ngModel",e.filterCoach()),d(3),v(e.coaches())}}function ye(l,t){if(l&1&&(n(0,"option",10),r(1),o()),l&2){let e=t.$implicit;C("value",e),d(),h(e)}}function De(l,t){if(l&1&&(n(0,"option",10),r(1),o()),l&2){let e=t.$implicit;C("value",e.value),d(),h(e.label)}}function Ee(l,t){l&1&&(n(0,"div",13),Y(1,"div",18),n(2,"p"),r(3,"Memuat jadwal..."),o()())}function ke(l,t){if(l&1){let e=x();n(0,"div",31),g("click",function(i){let c=m(e).$implicit;return s(4).openViewModal(c),u(i.stopPropagation())}),n(1,"span",32),r(2),o(),n(3,"span",33),r(4),o()()}if(l&2){let e=t.$implicit,a=s(4);V("background",a.getStatusColor(e.status)),d(2),h(e.startTime),d(2),h(e.studentName)}}function Te(l,t){if(l&1&&(n(0,"div",30),r(1),o()),l&2){let e=s(2).$implicit;d(),y("+",e.schedules.length-2," lagi")}}function Ie(l,t){if(l&1&&(n(0,"div",28),O(1,ke,5,4,"div",29,A),_(3,Te,2,1,"div",30),o()),l&2){let e=s().$implicit;d(),v(e.schedules.slice(0,2)),d(2),p(e.schedules.length>2?3:-1)}}function Ae(l,t){if(l&1){let e=x();n(0,"div",26),g("click",function(){let i=m(e).$implicit,c=s(2);return u(c.selectDate(i.date))}),n(1,"div",27),r(2),o(),_(3,Ie,4,1,"div",28),o()}if(l&2){let e=t.$implicit;B("other-month",!e.isCurrentMonth)("today",e.isToday)("has-schedules",e.schedules.length>0),d(2),h(e.dayNumber),d(),p(e.schedules.length>0?3:-1)}}function Ve(l,t){if(l&1){let e=x();n(0,"div",14)(1,"div",19)(2,"button",20),g("click",function(){m(e);let i=s();return u(i.previousMonth())}),r(3,"\u2039 Bulan Lalu"),o(),n(4,"h2",21),r(5),o(),n(6,"button",20),g("click",function(){m(e);let i=s();return u(i.nextMonth())}),r(7,"Bulan Depan \u203A"),o(),n(8,"button",22),g("click",function(){m(e);let i=s();return u(i.goToToday())}),r(9,"Hari Ini"),o()(),n(10,"div",23)(11,"div",24),r(12,"Minggu"),o(),n(13,"div",24),r(14,"Senin"),o(),n(15,"div",24),r(16,"Selasa"),o(),n(17,"div",24),r(18,"Rabu"),o(),n(19,"div",24),r(20,"Kamis"),o(),n(21,"div",24),r(22,"Jumat"),o(),n(23,"div",24),r(24,"Sabtu"),o(),O(25,Ae,4,8,"div",25,K),o()()}if(l&2){let e=s();d(5),h(e.getMonthName()),d(20),v(e.calendarDays())}}function Be(l,t){l&1&&r(0,' Klik "Buat Jadwal Baru" untuk menambahkan jadwal ')}function Fe(l,t){l&1&&r(0," Belum ada jadwal untuk Anda ")}function Ne(l,t){if(l&1&&(n(0,"div",35)(1,"span",37),r(2,"\u{1F4C5}"),o(),n(3,"h3"),r(4,"Belum Ada Jadwal"),o(),n(5,"p"),_(6,Be,1,0)(7,Fe,1,0),o()()),l&2){let e=s(2);d(6),p(e.isAdmin()?6:7)}}function We(l,t){l&1&&(n(0,"span",50),r(1,"\u2705 Pengingat WA Aktif"),o())}function Re(l,t){l&1&&(n(0,"span",51),r(1,"\u274C Pengingat WA Nonaktif"),o())}function Le(l,t){if(l&1){let e=x();n(0,"button",56),g("click",function(i){m(e);let c=s().$implicit;return s(3).openEditModal(c),u(i.stopPropagation())}),r(1," \u270F\uFE0F "),o()}}function je(l,t){if(l&1){let e=x();n(0,"div",39),g("click",function(){let i=m(e).$implicit,c=s(3);return u(c.openViewModal(i))}),n(1,"div",40)(2,"div",2)(3,"span",41),r(4),o(),n(5,"span",42),r(6),o()(),n(7,"div",3)(8,"span",43),r(9),o()()(),n(10,"div",44)(11,"div",45)(12,"span",46),r(13,"\u{1F468}\u200D\u{1F393} Siswa:"),o(),n(14,"span",47),r(15),o()(),n(16,"div",45)(17,"span",46),r(18,"\u{1F468}\u200D\u{1F3EB} Pelatih:"),o(),n(19,"span",47),r(20),o()(),n(21,"div",45)(22,"span",46),r(23,"\u{1F3CA} Program:"),o(),n(24,"span",47),r(25),o()(),n(26,"div",45)(27,"span",46),r(28,"\u{1F4CD} Lokasi:"),o(),n(29,"span",47),r(30),o()()(),n(31,"div",48)(32,"div",49),_(33,We,2,0,"span",50)(34,Re,2,0,"span",51),o(),n(35,"div",52),_(36,Le,2,0,"button",53),n(37,"button",54),g("click",function(i){let c=m(e).$implicit;return s(3).toggleReminder(c),u(i.stopPropagation())}),r(38),o(),n(39,"button",55),g("click",function(i){let c=m(e).$implicit;return s(3).sendWhatsAppReminder(c._id),u(i.stopPropagation())}),r(40," \u{1F4F1} "),o()()()()}if(l&2){let e=t.$implicit,a=s(3);d(4),y(" ",a.formatDate(e.date)," "),d(2),L(" ",e.startTime," - ",e.endTime," "),d(2),V("background",a.getStatusColor(e.status)),d(),y(" ",a.getStatusLabel(e.status)," "),d(6),h(e.studentName),d(5),h(e.coachName),d(5),h(e.program),d(5),h(e.location),d(3),p(e.reminderEnabled?33:34),d(3),p(a.canEditSchedule(e)?36:-1),d(2),y(" ",e.reminderEnabled?"\u{1F514}":"\u{1F515}"," ")}}function Ue(l,t){if(l&1&&(n(0,"div",36),O(1,je,41,13,"div",38,A),o()),l&2){let e=s(2);d(),v(e.filteredSchedules())}}function ze(l,t){if(l&1&&(n(0,"div",15)(1,"div",34)(2,"h3"),r(3),o()(),_(4,Ne,8,1,"div",35)(5,Ue,3,0,"div",36),o()),l&2){let e=s();d(3),y("Daftar Jadwal (",e.filteredSchedules().length," jadwal)"),d(),p(e.filteredSchedules().length===0?4:5)}}function $e(l,t){l&1&&r(0," \u2795 Buat Jadwal Baru ")}function Je(l,t){l&1&&r(0," \u270F\uFE0F Edit Jadwal ")}function Ge(l,t){l&1&&r(0," \u{1F4C5} Detail Jadwal ")}function He(l,t){if(l&1&&(n(0,"div",66)(1,"span",64),r(2,"Catatan:"),o(),n(3,"p",65),r(4),o()()),l&2){let e=s(3);d(4),h(e.selectedSchedule().notes)}}function Ke(l,t){if(l&1){let e=x();n(0,"button",72),g("click",function(){m(e);let i=s(3);return u(i.openEditModal(i.selectedSchedule()))}),r(1," \u270F\uFE0F Edit "),o()}}function Ye(l,t){if(l&1){let e=x();n(0,"button",73),g("click",function(){m(e);let i=s(3);return u(i.deleteSchedule(i.selectedSchedule()._id))}),r(1," \u{1F5D1}\uFE0F Hapus "),o()}}function qe(l,t){if(l&1){let e=x();n(0,"div",62)(1,"div",63)(2,"span",64),r(3,"Tanggal:"),o(),n(4,"span",65),r(5),o()(),n(6,"div",63)(7,"span",64),r(8,"Waktu:"),o(),n(9,"span",65),r(10),o()(),n(11,"div",63)(12,"span",64),r(13,"Durasi:"),o(),n(14,"span",65),r(15),o()(),n(16,"div",63)(17,"span",64),r(18,"Siswa:"),o(),n(19,"span",65),r(20),o()(),n(21,"div",63)(22,"span",64),r(23,"No. WA Siswa:"),o(),n(24,"span",65),r(25),o()(),n(26,"div",63)(27,"span",64),r(28,"Pelatih:"),o(),n(29,"span",65),r(30),o()(),n(31,"div",63)(32,"span",64),r(33,"Program:"),o(),n(34,"span",65),r(35),o()(),n(36,"div",63)(37,"span",64),r(38,"Lokasi:"),o(),n(39,"span",65),r(40),o()(),n(41,"div",63)(42,"span",64),r(43,"Status:"),o(),n(44,"span",43),r(45),o()(),n(46,"div",63)(47,"span",64),r(48,"Pengingat WA:"),o(),n(49,"span",65),r(50),o()(),_(51,He,5,1,"div",66),o(),n(52,"div",67),_(53,Ke,2,0,"button",68),n(54,"button",69),g("click",function(){m(e);let i=s(2);return u(i.toggleReminder(i.selectedSchedule()))}),r(55),o(),n(56,"button",70),g("click",function(){m(e);let i=s(2);return u(i.sendWhatsAppReminder(i.selectedSchedule()._id))}),r(57," \u{1F4F1} Kirim WA Sekarang "),o(),_(58,Ye,2,0,"button",71),o()}if(l&2){let e=s(2);d(5),h(e.formatDate(e.selectedSchedule().date)),d(5),L("",e.selectedSchedule().startTime," - ",e.selectedSchedule().endTime),d(5),y("",e.selectedSchedule().duration," menit"),d(5),h(e.selectedSchedule().studentName),d(5),h(e.selectedSchedule().studentPhone),d(5),h(e.selectedSchedule().coachName),d(5),h(e.selectedSchedule().program),d(5),h(e.selectedSchedule().location),d(4),V("background",e.getStatusColor(e.selectedSchedule().status)),d(),y(" ",e.getStatusLabel(e.selectedSchedule().status)," "),d(5),y(" ",e.selectedSchedule().reminderEnabled?"\u2705 Aktif":"\u274C Nonaktif"," "),d(),p(e.selectedSchedule().notes?51:-1),d(2),p(e.canEditSchedule(e.selectedSchedule())?53:-1),d(2),y(" ",e.selectedSchedule().reminderEnabled?"\u{1F515} Nonaktifkan":"\u{1F514} Aktifkan"," Pengingat "),d(3),p(e.canDeleteSchedule(e.selectedSchedule())?58:-1)}}function Qe(l,t){if(l&1&&(n(0,"option",10),r(1),o()),l&2){let e=t.$implicit;C("value",e._id),d(),h(e.fullName)}}function Xe(l,t){if(l&1&&(n(0,"option",10),r(1),o()),l&2){let e=t.$implicit;C("value",e._id),d(),h(e.fullName)}}function Ze(l,t){if(l&1&&(n(0,"option",10),r(1),o()),l&2){let e=t.$implicit;C("value",e),d(),h(e)}}function et(l,t){if(l&1&&(n(0,"option",10),r(1),o()),l&2){let e=t.$implicit;C("value",e.value),d(),h(e.label)}}function tt(l,t){l&1&&(n(0,"small",86),r(1,"\u2705 Coach dapat mengubah status"),o())}function nt(l,t){l&1&&(n(0,"small",86),r(1,"\u2705 Coach dapat menambahkan catatan"),o())}function it(l,t){l&1&&(n(0,"small",86),r(1,"\u26A0\uFE0F Hanya admin yang dapat mengubah pengingat"),o())}function ot(l,t){l&1&&r(0," \u2795 Buat Jadwal ")}function at(l,t){l&1&&r(0," \u{1F4BE} Simpan Perubahan ")}function rt(l,t){if(l&1){let e=x();n(0,"form",74)(1,"div",75)(2,"div",76)(3,"label"),r(4,"Siswa *"),o(),n(5,"select",77),P("ngModelChange",function(i){m(e);let c=s(2);return w(c.formData.studentId,i)||(c.formData.studentId=i),u(i)}),n(6,"option",9),r(7,"Pilih Siswa"),o(),O(8,Qe,2,2,"option",10,A),o()(),n(10,"div",76)(11,"label"),r(12,"Pelatih *"),o(),n(13,"select",78),P("ngModelChange",function(i){m(e);let c=s(2);return w(c.formData.coachId,i)||(c.formData.coachId=i),u(i)}),n(14,"option",9),r(15,"Pilih Pelatih"),o(),O(16,Xe,2,2,"option",10,A),o()()(),n(18,"div",75)(19,"div",76)(20,"label"),r(21,"Program *"),o(),n(22,"select",79),P("ngModelChange",function(i){m(e);let c=s(2);return w(c.formData.program,i)||(c.formData.program=i),u(i)}),n(23,"option",9),r(24,"Pilih Program"),o(),O(25,Ze,2,2,"option",10,R),o()(),n(27,"div",76)(28,"label"),r(29,"Lokasi *"),o(),n(30,"input",80),P("ngModelChange",function(i){m(e);let c=s(2);return w(c.formData.location,i)||(c.formData.location=i),u(i)}),o()()(),n(31,"div",75)(32,"div",76)(33,"label"),r(34,"Tanggal *"),o(),n(35,"input",81),P("ngModelChange",function(i){m(e);let c=s(2);return w(c.formData.date,i)||(c.formData.date=i),u(i)}),o()(),n(36,"div",76)(37,"label"),r(38,"Jam Mulai *"),o(),n(39,"input",82),P("ngModelChange",function(i){m(e);let c=s(2);return w(c.formData.startTime,i)||(c.formData.startTime=i),u(i)}),g("change",function(){m(e);let i=s(2);return u(i.calculateDuration())}),o()(),n(40,"div",76)(41,"label"),r(42,"Jam Selesai *"),o(),n(43,"input",83),P("ngModelChange",function(i){m(e);let c=s(2);return w(c.formData.endTime,i)||(c.formData.endTime=i),u(i)}),g("change",function(){m(e);let i=s(2);return u(i.calculateDuration())}),o()()(),n(44,"div",75)(45,"div",76)(46,"label"),r(47,"Durasi (menit)"),o(),n(48,"input",84),P("ngModelChange",function(i){m(e);let c=s(2);return w(c.formData.duration,i)||(c.formData.duration=i),u(i)}),o()(),n(49,"div",76)(50,"label"),r(51,"Status *"),o(),n(52,"select",85),P("ngModelChange",function(i){m(e);let c=s(2);return w(c.formData.status,i)||(c.formData.status=i),u(i)}),O(53,et,2,2,"option",10,Ce),o(),_(55,tt,2,0,"small",86),o()(),n(56,"div",87)(57,"label"),r(58,"Catatan"),o(),n(59,"textarea",88),P("ngModelChange",function(i){m(e);let c=s(2);return w(c.formData.notes,i)||(c.formData.notes=i),u(i)}),o(),_(60,nt,2,0,"small",86),o(),n(61,"div",89)(62,"label",90)(63,"input",91),P("ngModelChange",function(i){m(e);let c=s(2);return w(c.formData.reminderEnabled,i)||(c.formData.reminderEnabled=i),u(i)}),o(),n(64,"span"),r(65,"\u{1F514} Aktifkan Pengingat WhatsApp (24 jam sebelumnya)"),o()(),_(66,it,2,0,"small",86),o()(),n(67,"div",67)(68,"button",72),g("click",function(){m(e);let i=s(2);return u(i.closeModal())}),r(69," Batal "),o(),n(70,"button",17),g("click",function(){m(e);let i=s(2);return u(i.saveSchedule())}),_(71,ot,1,0)(72,at,1,0),o()()}if(l&2){let e=s(2);d(5),b("ngModel",e.formData.studentId),C("disabled",e.isCoach()),d(3),v(e.students()),d(5),b("ngModel",e.formData.coachId),C("disabled",e.isCoach()),d(3),v(e.coaches()),d(6),b("ngModel",e.formData.program),C("disabled",e.isCoach()),d(3),v(e.programs),d(5),b("ngModel",e.formData.location),C("disabled",e.isCoach()),d(5),b("ngModel",e.formData.date),C("disabled",e.isCoach()),d(4),b("ngModel",e.formData.startTime),C("disabled",e.isCoach()),d(4),b("ngModel",e.formData.endTime),C("disabled",e.isCoach()),d(5),b("ngModel",e.formData.duration),d(4),b("ngModel",e.formData.status),d(),v(e.statusOptions),d(2),p(e.isCoach()?55:-1),d(4),b("ngModel",e.formData.notes),d(),p(e.isCoach()?60:-1),d(3),b("ngModel",e.formData.reminderEnabled),C("disabled",e.isCoach()),d(3),p(e.isCoach()?66:-1),d(5),p(e.modalMode()==="create"?71:72)}}function lt(l,t){if(l&1){let e=x();n(0,"div",57),g("click",function(){m(e);let i=s();return u(i.closeModal())}),n(1,"div",58),g("click",function(i){return m(e),u(i.stopPropagation())}),n(2,"div",59)(3,"h2"),_(4,$e,1,0)(5,Je,1,0)(6,Ge,1,0),o(),n(7,"button",60),g("click",function(){m(e);let i=s();return u(i.closeModal())}),r(8,"\u2715"),o()(),n(9,"div",61),_(10,qe,59,17)(11,rt,73,23),o()()()}if(l&2){let e=s();d(4),p(e.modalMode()==="create"?4:e.modalMode()==="edit"?5:6),d(6),p(e.modalMode()==="view"&&e.selectedSchedule()?10:11)}}var pe=class l{constructor(t,e,a,i,c){this.scheduleService=t;this.coachService=e;this.studentService=a;this.authService=i;this.platformId=c;this.isBrowser=Q(this.platformId)}isBrowser;schedules=f([]);coaches=f([]);students=f([]);selectedDate=f(new Date);currentMonth=f(new Date);selectedSchedule=f(null);isLoading=f(!1);showModal=f(!1);modalMode=f("view");filterCoach=f("");filterProgram=f("");filterStatus=f("");currentUser=f(null);userRole=f("guest");isAdmin=f(!1);isCoach=f(!1);viewMode=f("calendar");calendarDays=j(()=>this.generateCalendarDays());filteredSchedules=j(()=>{let t=this.schedules(),e=this.filterCoach()||(this.isCoach()&&this.currentUser()?.coachId?this.extractId(this.currentUser().coachId):null);return e&&(t=t.filter(a=>this.extractId(a.coachId)?.toString()===e)),this.filterProgram()&&(t=t.filter(a=>a.program===this.filterProgram())),this.filterStatus()&&(t=t.filter(a=>a.status===this.filterStatus())),t});programs=["Baby Swimming","Kids Class","Teen & Adult","Private Training","Competition Team"];statusOptions=[{value:"scheduled",label:"Terjadwal",color:"#3b6fad"},{value:"completed",label:"Selesai",color:"#4caf50"},{value:"cancelled",label:"Dibatalkan",color:"#f44336"},{value:"rescheduled",label:"Dijadwalkan Ulang",color:"#ff9800"}];formData=this.getInitialFormData();reminderSettings={enabled:!0,beforeHours:24};ngOnInit(){let t=this.authService.getUser();if(this.currentUser.set(t),this.userRole.set(t?.role||"guest"),this.isAdmin.set(t?.role==="admin"||t?.role==="superadmin"),this.isCoach.set(t?.role==="coach"),console.log("\u{1F464} Schedule - User role:",this.userRole()),console.log("\u{1F510} Is Admin:",this.isAdmin()),console.log("\u{1F468}\u200D\u{1F3EB} Is Coach:",this.isCoach()),this.isCoach()&&t?.coachId){let e=this.extractId(t.coachId);e&&(this.filterCoach.set(e),console.log("\u{1F50D} Auto-filtering schedules for coach:",e))}this.loadSchedules(),this.loadCoaches(),this.loadStudents()}getInitialFormData(){return{studentId:"",coachId:"",program:"",date:new Date,startTime:"08:00",endTime:"09:00",duration:60,location:"Kolam Utama",notes:"",status:"scheduled",reminderEnabled:!0,reminderSent:!1}}extractId(t){return t?typeof t=="string"?t:typeof t=="object"&&t._id?t._id.toString():t.toString():null}showSweetAlert(t){return this.isBrowser?N.default.fire(t):Promise.resolve({isConfirmed:!1})}canCreateSchedule(){return this.isAdmin()}canEditSchedule(t){if(this.isAdmin())return!0;if(this.isCoach()){let e=this.extractId(t.coachId),a=this.extractId(this.currentUser()?.coachId);return e===a}return!1}canDeleteSchedule(t){return this.isAdmin()}canEditFullSchedule(){return this.isAdmin()}loadSchedules(){this.isLoading.set(!0);let t=new Date(this.currentMonth().getFullYear(),this.currentMonth().getMonth(),1),e=new Date(this.currentMonth().getFullYear(),this.currentMonth().getMonth()+1,0);this.scheduleService.getSchedulesByDateRange(t,e).subscribe({next:a=>{let i=a.map(c=>T(k({},c),{coachId:this.extractId(c.coachId)||c.coachId,studentId:this.extractId(c.studentId)||c.studentId}));this.schedules.set(i),this.isLoading.set(!1)},error:a=>{console.error("\u274C Error loading schedules:",a),this.isLoading.set(!1),this.showSweetAlert({icon:"error",title:"Gagal Memuat Data",text:"Gagal memuat jadwal. Silakan coba lagi.",confirmButtonColor:"#3b6fad"})}})}loadCoaches(){this.coachService.getCoaches().subscribe({next:t=>{let e=t.filter(a=>a.status==="Aktif");this.coaches.set(e)},error:t=>{console.error("\u274C Error loading coaches:",t)}})}loadStudents(){this.studentService.getStudents().subscribe({next:t=>{let e=t.filter(a=>a.status==="Aktif");this.students.set(e)},error:t=>{console.error("\u274C Error loading students:",t)}})}generateCalendarDays(){let t=this.currentMonth().getFullYear(),e=this.currentMonth().getMonth(),a=new Date(t,e,1),i=new Date(a);i.setDate(i.getDate()-a.getDay());let c=[],D=new Date;D.setHours(0,0,0,0);for(let W=0;W<42;W++){let E=new Date(i);E.setDate(i.getDate()+W);let fe=this.filteredSchedules().filter(Me=>new Date(Me.date).toDateString()===E.toDateString());c.push({date:E,dayNumber:E.getDate(),isCurrentMonth:E.getMonth()===e,isToday:E.toDateString()===D.toDateString(),schedules:fe})}return c}previousMonth(){let t=new Date(this.currentMonth());t.setMonth(t.getMonth()-1),this.currentMonth.set(t),this.loadSchedules()}nextMonth(){let t=new Date(this.currentMonth());t.setMonth(t.getMonth()+1),this.currentMonth.set(t),this.loadSchedules()}goToToday(){this.currentMonth.set(new Date),this.loadSchedules()}selectDate(t){this.selectedDate.set(t)}openCreateModal(){if(!this.canCreateSchedule()){this.showSweetAlert({icon:"error",title:"Akses Ditolak",text:"Anda tidak memiliki akses untuk membuat jadwal!",confirmButtonColor:"#3b6fad"});return}let e=new Date(this.selectedDate()).toISOString().split("T")[0];this.formData=T(k({},this.getInitialFormData()),{date:e}),this.modalMode.set("create"),this.showModal.set(!0)}openEditModal(t){if(!this.canEditSchedule(t)){this.showSweetAlert({icon:"error",title:"Akses Ditolak",text:"Anda tidak memiliki akses untuk mengedit jadwal ini!",confirmButtonColor:"#3b6fad"});return}this.selectedSchedule.set(t);let a=new Date(t.date).toISOString().split("T")[0];this.formData=T(k({},t),{studentId:this.extractId(t.studentId)||"",coachId:this.extractId(t.coachId)||"",date:a,startTime:t.startTime||"08:00",endTime:t.endTime||"09:00",duration:t.duration||60,location:t.location||"Kolam Utama",program:t.program||"",status:t.status||"scheduled",notes:t.notes||"",reminderEnabled:t.reminderEnabled!==!1,reminderSent:t.reminderSent||!1}),this.modalMode.set("edit"),this.showModal.set(!0)}openViewModal(t){this.selectedSchedule.set(t),this.modalMode.set("view"),this.showModal.set(!0)}closeModal(){this.showModal.set(!1),this.selectedSchedule.set(null),this.formData=this.getInitialFormData()}saveSchedule(){this.modalMode()==="create"?this.createSchedule():this.modalMode()==="edit"&&this.updateSchedule()}createSchedule(){this.isLoading.set(!0);let t=this.students().find(i=>i._id===this.formData.studentId),e=this.coaches().find(i=>i._id===this.formData.coachId);if(!t||!e){this.showSweetAlert({icon:"error",title:"Data Tidak Lengkap",text:"Siswa atau Pelatih tidak ditemukan!",confirmButtonColor:"#3b6fad"}),this.isLoading.set(!1);return}let a=T(k({},this.formData),{studentName:t.fullName,studentPhone:t.phone,coachName:e.fullName,coachPhone:e.phone||""});this.scheduleService.createSchedule(a).subscribe({next:i=>{this.schedules.update(c=>[...c,i]),this.closeModal(),this.isLoading.set(!1),this.showSweetAlert({icon:"success",title:"Berhasil!",text:"Jadwal berhasil dibuat",timer:2e3,showConfirmButton:!1}),this.loadSchedules()},error:i=>{console.error("\u274C Error creating schedule:",i),this.isLoading.set(!1),this.showSweetAlert({icon:"error",title:"Gagal!",text:i.message||"Gagal membuat jadwal",confirmButtonColor:"#3b6fad"})}})}updateSchedule(){if(!this.selectedSchedule()?._id)return;this.isLoading.set(!0);let t;if(this.isCoach())t={status:this.formData.status,notes:this.formData.notes},console.log("\u{1F468}\u200D\u{1F3EB} Coach updating (limited):",t);else{let e=this.students().find(i=>i._id===this.formData.studentId),a=this.coaches().find(i=>i._id===this.formData.coachId);if(!e||!a){this.showSweetAlert({icon:"error",title:"Data Tidak Lengkap",text:"Siswa atau Pelatih tidak ditemukan!",confirmButtonColor:"#3b6fad"}),this.isLoading.set(!1);return}t=T(k({},this.formData),{studentName:e.fullName,studentPhone:e.phone,coachName:a.fullName,coachPhone:a.phone||""}),console.log("\u{1F510} Admin updating (full):",t)}this.scheduleService.updateSchedule(this.selectedSchedule()._id,t).subscribe({next:e=>{this.schedules.update(a=>a.map(i=>i._id===e._id?e:i)),this.closeModal(),this.isLoading.set(!1),this.showSweetAlert({icon:"success",title:"Berhasil!",text:"Jadwal berhasil diupdate",timer:2e3,showConfirmButton:!1}),this.loadSchedules()},error:e=>{console.error("\u274C Error updating schedule:",e),this.isLoading.set(!1),this.showSweetAlert({icon:"error",title:"Gagal!",text:e.message||"Gagal mengupdate jadwal",confirmButtonColor:"#3b6fad"})}})}async deleteSchedule(t){let e=this.schedules().find(i=>i._id===t);if(e&&!this.canDeleteSchedule(e)){this.showSweetAlert({icon:"error",title:"Akses Ditolak",text:"Anda tidak memiliki akses untuk menghapus jadwal!",confirmButtonColor:"#3b6fad"});return}(await this.showSweetAlert({title:"Hapus Jadwal?",text:"Apakah Anda yakin ingin menghapus jadwal ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#f44336",cancelButtonColor:"#999",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&(this.isLoading.set(!0),this.scheduleService.deleteSchedule(t).subscribe({next:()=>{this.schedules.update(i=>i.filter(c=>c._id!==t)),this.closeModal(),this.isLoading.set(!1),this.showSweetAlert({icon:"success",title:"Terhapus!",text:"Jadwal berhasil dihapus",timer:2e3,showConfirmButton:!1})},error:i=>{console.error("\u274C Error deleting schedule:",i),this.isLoading.set(!1),this.showSweetAlert({icon:"error",title:"Gagal!",text:i.message||"Gagal menghapus jadwal",confirmButtonColor:"#3b6fad"})}}))}updateStatus(t,e){this.scheduleService.updateScheduleStatus(t,e).subscribe({next:a=>{this.schedules.update(i=>i.map(c=>c._id===t?a:c)),this.showSweetAlert({icon:"success",title:"Berhasil!",text:"Status berhasil diupdate",timer:2e3,showConfirmButton:!1})},error:a=>{console.error("\u274C Error updating status:",a),this.showSweetAlert({icon:"error",title:"Gagal!",text:a.message||"Gagal mengupdate status",confirmButtonColor:"#3b6fad"})}})}toggleReminder(t){if(!t._id)return;let e=!t.reminderEnabled;this.scheduleService.toggleReminder(t._id,e).subscribe({next:a=>{this.schedules.update(i=>i.map(c=>c._id===t._id?a:c)),this.showSweetAlert({icon:"success",title:"Berhasil!",text:`Pengingat WhatsApp ${e?"diaktifkan":"dinonaktifkan"}`,timer:2e3,showConfirmButton:!1})},error:a=>{console.error("\u274C Error toggling reminder:",a),this.showSweetAlert({icon:"error",title:"Gagal!",text:a.message||"Gagal mengubah status pengingat",confirmButtonColor:"#3b6fad"})}})}async sendWhatsAppReminder(t){(await this.showSweetAlert({title:"Kirim Pengingat?",text:"Kirim pengingat via WhatsApp sekarang?",icon:"question",showCancelButton:!0,confirmButtonColor:"#4caf50",cancelButtonColor:"#999",confirmButtonText:"\u{1F4F1} Kirim Sekarang",cancelButtonText:"Batal"})).isConfirmed&&(this.isBrowser&&N.default.fire({title:"Mengirim...",text:"Sedang mengirim pengingat WhatsApp",allowOutsideClick:!1,didOpen:()=>{N.default.showLoading()}}),this.scheduleService.sendWhatsAppReminder(t).subscribe({next:a=>{this.showSweetAlert({icon:"success",title:"Terkirim!",text:a.message,confirmButtonColor:"#3b6fad"})},error:a=>{console.error("\u274C Error sending WhatsApp reminder:",a),this.showSweetAlert({icon:"error",title:"Gagal!",text:a.message||"Gagal mengirim pengingat WhatsApp",confirmButtonColor:"#3b6fad"})}}))}calculateDuration(){if(this.formData.startTime&&this.formData.endTime){let[t,e]=this.formData.startTime.split(":").map(Number),[a,i]=this.formData.endTime.split(":").map(Number),c=t*60+e,D=a*60+i;this.formData.duration=D-c}}formatDate(t){return new Date(t).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}formatTime(t){return t}getStatusColor(t){return this.statusOptions.find(a=>a.value===t)?.color||"#999"}getStatusLabel(t){return this.statusOptions.find(a=>a.value===t)?.label||t}switchViewMode(t){this.viewMode.set(t)}getMonthName(){return this.currentMonth().toLocaleDateString("id-ID",{month:"long",year:"numeric"})}getSchedulesForDate(t){return this.filteredSchedules().filter(e=>new Date(e.date).toDateString()===t.toDateString())}static \u0275fac=function(e){return new(e||l)(I(F),I(_e),I(he),I(ee),I(G))};static \u0275cmp=H({type:l,selectors:[["app-schedule"]],decls:43,vars:12,consts:[[1,"schedule-page"],[1,"page-header"],[1,"header-left"],[1,"header-right"],[1,"btn","btn-primary"],[1,"filter-section"],[1,"filters"],[1,"filter-group"],[3,"ngModelChange","ngModel"],["value",""],[3,"value"],[1,"view-toggle"],[1,"toggle-btn",3,"click"],[1,"loading-container"],[1,"calendar-view"],[1,"list-view"],[1,"modal-overlay"],[1,"btn","btn-primary",3,"click"],[1,"spinner"],[1,"calendar-header"],[1,"btn-nav",3,"click"],[1,"month-title"],[1,"btn-today",3,"click"],[1,"calendar-grid"],[1,"day-header"],[1,"calendar-day",3,"other-month","today","has-schedules"],[1,"calendar-day",3,"click"],[1,"day-number"],[1,"day-schedules"],[1,"schedule-item",3,"background"],[1,"schedule-more"],[1,"schedule-item",3,"click"],[1,"schedule-time"],[1,"schedule-title"],[1,"list-header"],[1,"empty-state"],[1,"schedule-list"],[1,"empty-icon"],[1,"schedule-card"],[1,"schedule-card",3,"click"],[1,"card-header"],[1,"date-badge"],[1,"time-badge"],[1,"status-badge"],[1,"card-body"],[1,"info-row"],[1,"label"],[1,"value"],[1,"card-footer"],[1,"reminder-status"],[1,"reminder-enabled"],[1,"reminder-disabled"],[1,"card-actions"],["title","Edit",1,"btn-icon"],["title","Toggle Reminder",1,"btn-icon",3,"click"],["title","Kirim WA",1,"btn-icon",3,"click"],["title","Edit",1,"btn-icon",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"modal-body"],[1,"view-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"detail-row","full-width"],[1,"modal-actions"],[1,"btn","btn-secondary"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-danger"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"schedule-form"],[1,"form-row"],[1,"form-group"],["name","studentId","required","",3,"ngModelChange","ngModel","disabled"],["name","coachId","required","",3,"ngModelChange","ngModel","disabled"],["name","program","required","",3,"ngModelChange","ngModel","disabled"],["type","text","name","location","placeholder","Kolam Utama","required","",3,"ngModelChange","ngModel","disabled"],["type","date","name","date","required","",3,"ngModelChange","ngModel","disabled"],["type","time","name","startTime","required","",3,"ngModelChange","change","ngModel","disabled"],["type","time","name","endTime","required","",3,"ngModelChange","change","ngModel","disabled"],["type","number","name","duration","readonly","",3,"ngModelChange","ngModel"],["name","status","required","",3,"ngModelChange","ngModel"],[1,"help-text"],[1,"form-group","full-width"],["name","notes","rows","3","placeholder","Catatan tambahan...",3,"ngModelChange","ngModel"],[1,"form-group","checkbox-group"],[1,"checkbox-label"],["type","checkbox","name","reminderEnabled",3,"ngModelChange","ngModel","disabled"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),r(4,"\u{1F4C5} Manajemen Jadwal"),o(),n(5,"p"),r(6,"Kelola jadwal latihan siswa dan pelatih"),o()(),n(7,"div",3),_(8,Pe,5,0,"button",4),o()(),n(9,"div",5)(10,"div",6),_(11,ve,8,1,"div",7),n(12,"div",7)(13,"label"),r(14,"Filter Program:"),o(),n(15,"select",8),g("ngModelChange",function(c){return a.filterProgram.set(c)}),n(16,"option",9),r(17,"Semua Program"),o(),O(18,ye,2,2,"option",10,R),o()(),n(20,"div",7)(21,"label"),r(22,"Filter Status:"),o(),n(23,"select",8),g("ngModelChange",function(c){return a.filterStatus.set(c)}),n(24,"option",9),r(25,"Semua Status"),o(),O(26,De,2,2,"option",10,Ce),o()()(),n(28,"div",11)(29,"button",12),g("click",function(){return a.switchViewMode("calendar")}),n(30,"span"),r(31,"\u{1F4C5}"),o(),n(32,"span"),r(33,"Kalender"),o()(),n(34,"button",12),g("click",function(){return a.switchViewMode("list")}),n(35,"span"),r(36,"\u{1F4CB}"),o(),n(37,"span"),r(38,"Daftar"),o()()()(),_(39,Ee,4,0,"div",13),_(40,Ve,27,1,"div",14),_(41,ze,6,2,"div",15),o(),_(42,lt,12,2,"div",16)),e&2&&(d(8),p(a.isAdmin()?8:-1),d(3),p(a.isAdmin()?11:-1),d(4),C("ngModel",a.filterProgram()),d(3),v(a.programs),d(5),C("ngModel",a.filterStatus()),d(3),v(a.statusOptions),d(3),B("active",a.viewMode()==="calendar"),d(5),B("active",a.viewMode()==="list"),d(5),p(a.isLoading()?39:-1),d(),p(!a.isLoading()&&a.viewMode()==="calendar"?40:-1),d(),p(!a.isLoading()&&a.viewMode()==="list"?41:-1),d(),p(a.showModal()?42:-1))},dependencies:[q,ge,le,se,me,ne,de,te,ce,ie,oe,ue,re,ae],styles:['@charset "UTF-8";.schedule-page[_ngcontent-%COMP%]{padding:2rem;max-width:1600px;margin:0 auto}@media (max-width: 768px){.schedule-page[_ngcontent-%COMP%]{padding:1rem}}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:#1a3a52;margin:0 0 .5rem;font-weight:700}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5a6c7d;margin:0;font-size:1rem}.page-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;background:linear-gradient(135deg,#3b6fad,#6199c4);color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease}.page-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #3b6fad4d}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.page-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{width:100%}.page-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%;justify-content:center}}.filter-section[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 10px #0000000d;margin-bottom:2rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.filter-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;flex:1}.filter-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.filter-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:#5a6c7d}.filter-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem 1rem;border:2px solid #e0e7ee;border-radius:8px;font-size:.95rem;cursor:pointer;transition:all .3s ease}.filter-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b6fad}.filter-section[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{display:flex;gap:.5rem;background:#f0f4f8;padding:.25rem;border-radius:8px}.filter-section[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;background:transparent;border:none;border-radius:6px;font-weight:600;color:#5a6c7d;cursor:pointer;transition:all .3s ease}.filter-section[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#3b6fad1a}.filter-section[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:#fff;color:#3b6fad;box-shadow:0 2px 8px #0000001a}@media (max-width: 968px){.filter-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filter-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{flex-direction:column}.filter-section[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{width:100%}.filter-section[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{flex:1;justify-content:center}}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:4rem 0}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #f3f3f3;border-top:4px solid #3b6fad;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5a6c7d;font-size:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.calendar-view[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 10px #0000000d}.calendar-view[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;margin-bottom:2rem;flex-wrap:wrap}.calendar-view[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]{padding:.625rem 1.25rem;background:#fff;border:2px solid #e0e7ee;border-radius:8px;font-weight:600;color:#3b6fad;cursor:pointer;transition:all .3s ease}.calendar-view[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]:hover{border-color:#3b6fad;background:#f8f9ff}.calendar-view[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .month-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a3a52;margin:0;min-width:250px;text-align:center}.calendar-view[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .btn-today[_ngcontent-%COMP%]{padding:.625rem 1.25rem;background:linear-gradient(135deg,#3b6fad,#6199c4);border:none;border-radius:8px;font-weight:600;color:#fff;cursor:pointer;transition:all .3s ease}.calendar-view[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .btn-today[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #3b6fad4d}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#e0e7ee;border:1px solid #e0e7ee;border-radius:8px;overflow:hidden}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]{background:#f0f4f8;padding:1rem;text-align:center;font-weight:700;color:#1a3a52;font-size:.9rem}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day[_ngcontent-%COMP%]{background:#fff;min-height:120px;padding:.75rem;cursor:pointer;transition:all .3s ease;position:relative}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day[_ngcontent-%COMP%]:hover{background:#f8f9ff}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%]{background:#fafbfc;opacity:.6}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{color:#999}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day.today[_ngcontent-%COMP%]{background:#fff8e6}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b6fad,#6199c4);color:#fff;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day.has-schedules[_ngcontent-%COMP%]{border-left:3px solid #3b6fad}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{font-weight:700;color:#1a3a52;margin-bottom:.5rem;font-size:.95rem}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day[_ngcontent-%COMP%]   .day-schedules[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day[_ngcontent-%COMP%]   .day-schedules[_ngcontent-%COMP%]   .schedule-item[_ngcontent-%COMP%]{padding:.375rem .5rem;border-radius:4px;font-size:.8rem;color:#fff;display:flex;align-items:center;gap:.25rem;cursor:pointer;transition:all .2s ease}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day[_ngcontent-%COMP%]   .day-schedules[_ngcontent-%COMP%]   .schedule-item[_ngcontent-%COMP%]:hover{opacity:.8;transform:translate(2px)}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day[_ngcontent-%COMP%]   .day-schedules[_ngcontent-%COMP%]   .schedule-item[_ngcontent-%COMP%]   .schedule-time[_ngcontent-%COMP%]{font-weight:700}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day[_ngcontent-%COMP%]   .day-schedules[_ngcontent-%COMP%]   .schedule-item[_ngcontent-%COMP%]   .schedule-title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day[_ngcontent-%COMP%]   .day-schedules[_ngcontent-%COMP%]   .schedule-more[_ngcontent-%COMP%]{font-size:.75rem;color:#5a6c7d;text-align:center;padding:.25rem;font-weight:600}@media (max-width: 768px){.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .calendar-day[_ngcontent-%COMP%]{min-height:80px;padding:.5rem}.calendar-view[_ngcontent-%COMP%]   .calendar-grid[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]{padding:.5rem;font-size:.8rem}}.list-view[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.list-view[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;color:#1a3a52;margin:0;font-weight:700}.list-view[_ngcontent-%COMP%]   .schedule-list[_ngcontent-%COMP%]{display:grid;gap:1rem}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 10px #0000000d;cursor:pointer;transition:all .3s ease}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 20px #0000001a}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:1rem;border-bottom:2px solid #f0f4f8;flex-wrap:wrap;gap:.5rem}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center;flex-wrap:wrap}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .date-badge[_ngcontent-%COMP%]{background:#f0f4f8;padding:.375rem .875rem;border-radius:6px;font-size:.85rem;font-weight:600;color:#1a3a52}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .time-badge[_ngcontent-%COMP%]{background:#e8f4f8;padding:.375rem .875rem;border-radius:6px;font-size:.85rem;font-weight:600;color:#3b6fad}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:.375rem .875rem;border-radius:6px;font-size:.85rem;font-weight:700;color:#fff}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:grid;gap:.75rem;margin-bottom:1rem}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;gap:.5rem}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#5a6c7d;min-width:100px}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#1a3a52;font-weight:500}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:1rem;border-top:2px solid #f0f4f8;flex-wrap:wrap;gap:.5rem}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .reminder-status[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .reminder-status[_ngcontent-%COMP%]   .reminder-enabled[_ngcontent-%COMP%]{color:#4caf50}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .reminder-status[_ngcontent-%COMP%]   .reminder-disabled[_ngcontent-%COMP%]{color:#999}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:36px;height:36px;background:#f0f4f8;border:none;border-radius:8px;font-size:1.2rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.list-view[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#3b6fad;transform:scale(1.1)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#fff;border-radius:12px;box-shadow:0 2px 10px #0000000d}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:5rem;margin-bottom:1rem;display:block}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#1a3a52;margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5a6c7d;font-size:1rem;margin:0}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;padding:2rem;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:0;align-items:flex-end}}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;max-width:800px;width:100%;max-height:90vh;overflow-y:auto;animation:_ngcontent-%COMP%_slideUp .4s cubic-bezier(.68,-.55,.265,1.55)}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{border-radius:16px 16px 0 0;max-height:95vh}}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;border-bottom:2px solid #f0f4f8}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:#1a3a52;margin:0;font-weight:700}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{width:40px;height:40px;background:#f0f4f8;border:none;border-radius:8px;font-size:1.5rem;color:#5a6c7d;cursor:pointer;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:#f44336;color:#fff;transform:rotate(90deg)}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;flex-wrap:wrap;margin-top:1.5rem}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b6fad,#6199c4);color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #3b6fad4d}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#f0f4f8;color:#5a6c7d}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#e0e7ee}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50,#45a049);color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn.btn-success[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #4caf504d}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn.btn-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#25d366,#128c7e);color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn.btn-info[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #25d3664d}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f44336,#d32f2f);color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #f443364d}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{flex-direction:column}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.view-details[_ngcontent-%COMP%]{display:grid;gap:1rem}.view-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:150px 1fr;gap:1rem;padding:.75rem 0;border-bottom:1px solid #f0f4f8}.view-details[_ngcontent-%COMP%]   .detail-row.full-width[_ngcontent-%COMP%]{grid-template-columns:1fr}.view-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:700;color:#5a6c7d}.view-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:#1a3a52;font-weight:500}@media (max-width: 640px){.view-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem}}.schedule-form[_ngcontent-%COMP%]{display:grid;gap:1.5rem}.schedule-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .schedule-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .schedule-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;color:#999;cursor:not-allowed;opacity:.7}.schedule-form[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{display:block;margin-top:.25rem;font-size:.75rem;color:#666}.schedule-form[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]:has(\\2705 ){color:#4caf50}.schedule-form[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]:has(\\26a0\\fe0f ){color:#ff9800}.schedule-form[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]:has(input:disabled){opacity:.6;cursor:not-allowed}.schedule-form[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]:has(input:disabled)   input[_ngcontent-%COMP%]{cursor:not-allowed}.schedule-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.schedule-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.schedule-form[_ngcontent-%COMP%]   .form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.schedule-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#1a3a52;font-size:.95rem}.schedule-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .schedule-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .schedule-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #e0e7ee;border-radius:8px;font-size:1rem;transition:all .3s ease}.schedule-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .schedule-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .schedule-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b6fad;box-shadow:0 0 0 3px #3b6fad1a}.schedule-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;font-family:inherit}.schedule-form[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer}.schedule-form[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.schedule-form[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#1a3a52}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#3b6fad;border-radius:4px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#2d5a8c}@media (max-width: 640px){.schedule-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};export{pe as ScheduleComponent};
